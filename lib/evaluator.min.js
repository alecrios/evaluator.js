!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("evaluator",[],t):"object"==typeof exports?exports.evaluator=t():e.evaluator=t()}("undefined"!=typeof self?self:this,function(){return function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(n,o,function(t){return e[t]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=0)}([function(e,t,r){"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=((n=r(1))&&n.__esModule?n:{default:n}).default;t.default=o,e.exports=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=s(r(2)),o=s(r(4)),i=s(r(5));function s(e){return e&&e.__esModule?e:{default:e}}function u(e){return function(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var f=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.symbols={"^":{infix:"EXP"},"*":{infix:"MUL"},"/":{infix:"DIV"},"%":{infix:"MOD"},"+":{infix:"ADD",prefix:"POS"},"-":{infix:"SUB",prefix:"NEG"}},this.operators={EXP:new i.default("EXP",4,"right",function(e,t){return Math.pow(e,t)}),POS:new i.default("POS",3,"right",function(e){return e}),NEG:new i.default("NEG",3,"right",function(e){return-e}),MUL:new i.default("MUL",2,"left",function(e,t){return e*t}),DIV:new i.default("DIV",2,"left",function(e,t){return e/t}),MOD:new i.default("MOD",2,"left",function(e,t){return e%t}),ADD:new i.default("ADD",1,"left",function(e,t){return e+t}),SUB:new i.default("SUB",1,"left",function(e,t){return e-t})},this.constants={E:new o.default("E",Math.E),PI:new o.default("PI",Math.PI)},this.numbers=/(\d+\.\d*)|(\d*\.\d+)|(\d+)/,this.openParenthesis="(",this.closeParenthesis=")",this.whitespace=/\s/}var t,r,s;return t=e,(r=[{key:"isSymbol",value:function(e){return Object.prototype.hasOwnProperty.call(this.symbols,e)}},{key:"isOperator",value:function(e){return Object.prototype.hasOwnProperty.call(this.operators,e)}},{key:"isConstant",value:function(e){return Object.prototype.hasOwnProperty.call(this.constants,e)}},{key:"isNumber",value:function(e){return this.numbers.test(e)}},{key:"isOpenParenthesis",value:function(e){return e===this.openParenthesis}},{key:"isCloseParenthesis",value:function(e){return e===this.closeParenthesis}},{key:"isWhitespace",value:function(e){return this.whitespace.test(e)}},{key:"topOperatorHasPrecedence",value:function(e,t){if(!e.length)return!1;var r=e[e.length-1];if(!this.isOperator(r))return!1;var n=this.operators[r];return!(1===t.method.length&&n.method.length>1)&&(n.hasGreaterPrecedence(t)||n.hasEqualPrecedence(t)&&n.isLeftAssociative())}},{key:"determineOperator",value:function(e,t){var r;return void 0===t||this.isOpenParenthesis(t)||this.isSymbol(t)?r="prefix":(this.isCloseParenthesis(t)||this.isNumber(t)||this.isConstant(t))&&(r="infix"),this.operators[this.symbols[e][r]]}},{key:"parse",value:function(e){var t=this;if(!e.length)throw Error("No input");return(e.match(/(\d+\.\d*)|(\d*\.\d+)|(\d+)|([a-zA-Z]+)|(.)/g)||[]).filter(function(e){return!t.isWhitespace(e)}).map(function(e){return e.toUpperCase()})}},{key:"convert",value:function(e){var t=this;if(!e.length)throw Error("No valid tokens");var r=[],n=[];for(e.forEach(function(o,i){if(t.isNumber(o))n.push(parseFloat(o));else if(t.isConstant(o))n.push(t.constants[o].name);else if(t.isSymbol(o)){var s=t.determineOperator(o,e[i-1]);if(void 0===s)throw Error("Misused operator: ".concat(o));for(;t.topOperatorHasPrecedence(r,s);)n.push(r.pop());r.push(s.name)}else if(t.isOpenParenthesis(o))r.push(o);else{if(!t.isCloseParenthesis(o))throw Error("Invalid token: ".concat(o));for(;!t.isOpenParenthesis(r[r.length-1]);){if(!r.length)throw Error("Mismatched parentheses");n.push(r.pop())}r.pop()}});r.length;){var o=r[r.length-1];if(this.isOpenParenthesis(o)||this.isCloseParenthesis(o))throw Error("Mismatched parentheses");n.push(r.pop())}return n}},{key:"resolve",value:function(e){var t=this;if(!e.length)throw Error("No operations");var r=[];if(e.forEach(function(e){if(t.isNumber(e))r.push(e);else if(t.isConstant(e))r.push(t.constants[e].value);else{var n=t.operators[e];if(r.length<n.method.length)throw Error("Missing operand");if("DIV"===n.name&&0===r[1])throw Error("Division by zero");var o=n.method.apply(n,u(r.splice(-n.method.length)));r.push(o)}}),r.length>1)throw Error("Missing operator");var o=r[0];return(0,n.default)(o,8)}},{key:"evaluate",value:function(e){try{var t=this.parse(e),r=this.convert(t);return this.resolve(r)}catch(e){throw e}}}])&&a(t.prototype,r),s&&a(t,s),e}();t.default=f,e.exports=t.default},function(e,t,r){(function(t){var r=1/0,n=1.7976931348623157e308,o=NaN,i="[object Symbol]",s=/^\s+|\s+$/g,u=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,f=/^0o[0-7]+$/i,c=parseInt,l="object"==typeof t&&t&&t.Object===Object&&t,p="object"==typeof self&&self&&self.Object===Object&&self,h=l||p||Function("return this")(),d=Object.prototype.toString,v=h.Symbol,y=Math.min,b=v?v.prototype:void 0,m=b?b.toString:void 0;function O(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function w(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&d.call(e)==i}function P(e){if("number"==typeof e)return e;if(w(e))return o;if(O(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=O(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(s,"");var r=a.test(e);return r||f.test(e)?c(e.slice(2),r?2:8):u.test(e)?o:+e}function g(e){return null==e?"":function(e){if("string"==typeof e)return e;if(w(e))return m?m.call(e):"";var t=e+"";return"0"==t&&1/e==-r?"-0":t}(e)}var j,E=(j=Math["round"],function(e,t){if(e=P(e),t=y(function(e){var t=function(e){if(!e)return 0===e?e:0;if((e=P(e))===r||e===-r){var t=e<0?-1:1;return t*n}return e==e?e:0}(e),o=t%1;return t==t?o?t-o:t:0}(t),292)){var o=(g(e)+"e").split("e");return+((o=(g(j(o[0]+"e"+(+o[1]+t)))+"e").split("e"))[0]+"e"+(+o[1]-t))}return j(e)});e.exports=E}).call(this,r(3))},function(e,t){var r;r=function(){return this}();try{r=r||new Function("return this")()}catch(e){"object"==typeof window&&(r=window)}e.exports=r},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default=function e(t,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.name=t,this.value=r},e.exports=t.default},function(e,t,r){"use strict";function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(){function e(t,r,n,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.name=t,this.precedence=r,this.associativity=n,this.method=o}var t,r,o;return t=e,(r=[{key:"hasEqualPrecedence",value:function(e){return this.precedence===e.precedence}},{key:"hasGreaterPrecedence",value:function(e){return this.precedence>e.precedence}},{key:"isLeftAssociative",value:function(){return"left"===this.associativity}}])&&n(t.prototype,r),o&&n(t,o),e}();t.default=o,e.exports=t.default}])});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ldmFsdWF0b3Ivd2VicGFjay91bml2ZXJzYWxNb2R1bGVEZWZpbml0aW9uIiwid2VicGFjazovL2V2YWx1YXRvci93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly9ldmFsdWF0b3IvLi9zcmMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vZXZhbHVhdG9yLy4vc3JjL2V2YWx1YXRvci5qcyIsIndlYnBhY2s6Ly9ldmFsdWF0b3IvLi9ub2RlX21vZHVsZXMvbG9kYXNoLnJvdW5kL2luZGV4LmpzIiwid2VicGFjazovL2V2YWx1YXRvci8od2VicGFjaykvYnVpbGRpbi9nbG9iYWwuanMiLCJ3ZWJwYWNrOi8vZXZhbHVhdG9yLy4vc3JjL2NvbnN0YW50LmpzIiwid2VicGFjazovL2V2YWx1YXRvci8uL3NyYy9vcGVyYXRvci5qcyJdLCJuYW1lcyI6WyJyb290IiwiZmFjdG9yeSIsImV4cG9ydHMiLCJtb2R1bGUiLCJkZWZpbmUiLCJhbWQiLCJzZWxmIiwidGhpcyIsImluc3RhbGxlZE1vZHVsZXMiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJpIiwibCIsIm1vZHVsZXMiLCJjYWxsIiwibSIsImMiLCJkIiwibmFtZSIsImdldHRlciIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJyIiwiU3ltYm9sIiwidG9TdHJpbmdUYWciLCJ2YWx1ZSIsInQiLCJtb2RlIiwiX19lc01vZHVsZSIsIm5zIiwiY3JlYXRlIiwia2V5IiwiYmluZCIsIm4iLCJvYmplY3QiLCJwcm9wZXJ0eSIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwicCIsInMiLCJfbG9kYXNoIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsIl9jb25zdGFudCIsIl9vcGVyYXRvciIsIkV2YWx1YXRvciIsIl9jbGFzc0NhbGxDaGVjayIsInN5bWJvbHMiLCJeIiwiaW5maXgiLCIqIiwiLyIsIiUiLCIrIiwicHJlZml4IiwiLSIsIm9wZXJhdG9ycyIsIkVYUCIsImRlZmF1bHQiLCJhIiwiYiIsIk1hdGgiLCJwb3ciLCJQT1MiLCJORUciLCJNVUwiLCJESVYiLCJNT0QiLCJBREQiLCJTVUIiLCJjb25zdGFudHMiLCJFIiwiUEkiLCJudW1iZXJzIiwib3BlblBhcmVudGhlc2lzIiwiY2xvc2VQYXJlbnRoZXNpcyIsIndoaXRlc3BhY2UiLCJ0b2tlbiIsInRlc3QiLCJvcGVyYXRvclN0YWNrIiwiY3VycmVudE9wZXJhdG9yIiwibGVuZ3RoIiwidG9wVG9rZW4iLCJpc09wZXJhdG9yIiwidG9wT3BlcmF0b3IiLCJtZXRob2QiLCJoYXNHcmVhdGVyUHJlY2VkZW5jZSIsImhhc0VxdWFsUHJlY2VkZW5jZSIsImlzTGVmdEFzc29jaWF0aXZlIiwicHJldmlvdXNUb2tlbiIsIm5vdGF0aW9uIiwidW5kZWZpbmVkIiwiaXNPcGVuUGFyZW50aGVzaXMiLCJpc1N5bWJvbCIsImlzQ2xvc2VQYXJlbnRoZXNpcyIsImlzTnVtYmVyIiwiaXNDb25zdGFudCIsInN0cmluZyIsIl90aGlzIiwiRXJyb3IiLCJtYXRjaCIsImZpbHRlciIsImlzV2hpdGVzcGFjZSIsIm1hcCIsInRvVXBwZXJDYXNlIiwiaW5maXhFeHByZXNzaW9uIiwiX3RoaXMyIiwicG9zdGZpeEV4cHJlc3Npb24iLCJmb3JFYWNoIiwiaW5kZXgiLCJwdXNoIiwicGFyc2VGbG9hdCIsIm9wZXJhdG9yIiwiZGV0ZXJtaW5lT3BlcmF0b3IiLCJjb25jYXQiLCJ0b3BPcGVyYXRvckhhc1ByZWNlZGVuY2UiLCJwb3AiLCJfdGhpczMiLCJldmFsdWF0aW9uU3RhY2siLCJyZXN1bHQiLCJhcHBseSIsIl90b0NvbnN1bWFibGVBcnJheSIsInNwbGljZSIsInJlZHVjdGlvbiIsInBhcnNlIiwiY29udmVydCIsInJlc29sdmUiLCJlcnJvciIsImdsb2JhbCIsIklORklOSVRZIiwiTUFYX0lOVEVHRVIiLCJOQU4iLCJzeW1ib2xUYWciLCJyZVRyaW0iLCJyZUlzQmFkSGV4IiwicmVJc0JpbmFyeSIsInJlSXNPY3RhbCIsImZyZWVQYXJzZUludCIsInBhcnNlSW50IiwiZnJlZUdsb2JhbCIsImZyZWVTZWxmIiwiRnVuY3Rpb24iLCJvYmplY3RUb1N0cmluZyIsInRvU3RyaW5nIiwibmF0aXZlTWluIiwibWluIiwic3ltYm9sUHJvdG8iLCJzeW1ib2xUb1N0cmluZyIsImlzT2JqZWN0IiwidHlwZSIsImlzT2JqZWN0TGlrZSIsInRvTnVtYmVyIiwib3RoZXIiLCJ2YWx1ZU9mIiwicmVwbGFjZSIsImlzQmluYXJ5Iiwic2xpY2UiLCJiYXNlVG9TdHJpbmciLCJmdW5jIiwicm91bmQiLCJudW1iZXIiLCJwcmVjaXNpb24iLCJzaWduIiwidG9GaW5pdGUiLCJyZW1haW5kZXIiLCJ0b0ludGVnZXIiLCJwYWlyIiwic3BsaXQiLCJnIiwiZSIsIndpbmRvdyIsIkNvbnN0YW50IiwiT3BlcmF0b3IiLCJwcmVjZWRlbmNlIiwiYXNzb2NpYXRpdml0eSJdLCJtYXBwaW5ncyI6IkNBQUEsU0FBQUEsRUFBQUMsR0FDQSxpQkFBQUMsU0FBQSxpQkFBQUMsT0FDQUEsT0FBQUQsUUFBQUQsSUFDQSxtQkFBQUcsZUFBQUMsSUFDQUQsT0FBQSxlQUFBSCxHQUNBLGlCQUFBQyxRQUNBQSxRQUFBLFVBQUFELElBRUFELEVBQUEsVUFBQUMsSUFSQSxDQVNDLG9CQUFBSyxVQUFBQyxLQUFBLFdBQ0QsbUJDVEEsSUFBQUMsRUFBQSxHQUdBLFNBQUFDLEVBQUFDLEdBR0EsR0FBQUYsRUFBQUUsR0FDQSxPQUFBRixFQUFBRSxHQUFBUixRQUdBLElBQUFDLEVBQUFLLEVBQUFFLEdBQUEsQ0FDQUMsRUFBQUQsRUFDQUUsR0FBQSxFQUNBVixRQUFBLElBVUEsT0FOQVcsRUFBQUgsR0FBQUksS0FBQVgsRUFBQUQsUUFBQUMsSUFBQUQsUUFBQU8sR0FHQU4sRUFBQVMsR0FBQSxFQUdBVCxFQUFBRCxRQTBEQSxPQXJEQU8sRUFBQU0sRUFBQUYsRUFHQUosRUFBQU8sRUFBQVIsRUFHQUMsRUFBQVEsRUFBQSxTQUFBZixFQUFBZ0IsRUFB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QUFBekMsS0FBQXNLLEdBQ3hCdEssS0FBS1csS0FBT0EsRUFDWlgsS0FBS3FCLE1BQVFBLGlTQ0hNa0osYUFDcEIsU0FBQUEsRUFBWTVKLEVBQU02SixFQUFZQyxFQUFlekYsZ0dBQVF2QyxDQUFBekMsS0FBQXVLLEdBQ3BEdkssS0FBS1csS0FBT0EsRUFDWlgsS0FBS3dLLFdBQWFBLEVBQ2xCeEssS0FBS3lLLGNBQWdCQSxFQUNyQnpLLEtBQUtnRixPQUFTQSxvRUFHSTJCLEdBQ2xCLE9BQU8zRyxLQUFLd0ssYUFBZTdELEVBQVM2RCx3REFHaEI3RCxHQUNwQixPQUFPM0csS0FBS3dLLFdBQWE3RCxFQUFTNkQsdURBSWxDLE1BQThCLFNBQXZCeEssS0FBS3lLIiwiZmlsZSI6ImV2YWx1YXRvci5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24gd2VicGFja1VuaXZlcnNhbE1vZHVsZURlZmluaXRpb24ocm9vdCwgZmFjdG9yeSkge1xuXHRpZih0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcgJiYgdHlwZW9mIG1vZHVsZSA9PT0gJ29iamVjdCcpXG5cdFx0bW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KCk7XG5cdGVsc2UgaWYodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kKVxuXHRcdGRlZmluZShcImV2YWx1YXRvclwiLCBbXSwgZmFjdG9yeSk7XG5cdGVsc2UgaWYodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnKVxuXHRcdGV4cG9ydHNbXCJldmFsdWF0b3JcIl0gPSBmYWN0b3J5KCk7XG5cdGVsc2Vcblx0XHRyb290W1wiZXZhbHVhdG9yXCJdID0gZmFjdG9yeSgpO1xufSkodHlwZW9mIHNlbGYgIT09ICd1bmRlZmluZWQnID8gc2VsZiA6IHRoaXMsIGZ1bmN0aW9uKCkge1xucmV0dXJuICIsIiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4gXHRcdH1cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGk6IG1vZHVsZUlkLFxuIFx0XHRcdGw6IGZhbHNlLFxuIFx0XHRcdGV4cG9ydHM6IHt9XG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGdldHRlciB9KTtcbiBcdFx0fVxuIFx0fTtcblxuIFx0Ly8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yID0gZnVuY3Rpb24oZXhwb3J0cykge1xuIFx0XHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcbiBcdFx0fVxuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuIFx0fTtcblxuIFx0Ly8gY3JlYXRlIGEgZmFrZSBuYW1lc3BhY2Ugb2JqZWN0XG4gXHQvLyBtb2RlICYgMTogdmFsdWUgaXMgYSBtb2R1bGUgaWQsIHJlcXVpcmUgaXRcbiBcdC8vIG1vZGUgJiAyOiBtZXJnZSBhbGwgcHJvcGVydGllcyBvZiB2YWx1ZSBpbnRvIHRoZSBuc1xuIFx0Ly8gbW9kZSAmIDQ6IHJldHVybiB2YWx1ZSB3aGVuIGFscmVhZHkgbnMgb2JqZWN0XG4gXHQvLyBtb2RlICYgOHwxOiBiZWhhdmUgbGlrZSByZXF1aXJlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnQgPSBmdW5jdGlvbih2YWx1ZSwgbW9kZSkge1xuIFx0XHRpZihtb2RlICYgMSkgdmFsdWUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKHZhbHVlKTtcbiBcdFx0aWYobW9kZSAmIDgpIHJldHVybiB2YWx1ZTtcbiBcdFx0aWYoKG1vZGUgJiA0KSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHZhbHVlICYmIHZhbHVlLl9fZXNNb2R1bGUpIHJldHVybiB2YWx1ZTtcbiBcdFx0dmFyIG5zID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yKG5zKTtcbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG5zLCAnZGVmYXVsdCcsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IHZhbHVlIH0pO1xuIFx0XHRpZihtb2RlICYgMiAmJiB0eXBlb2YgdmFsdWUgIT0gJ3N0cmluZycpIGZvcih2YXIga2V5IGluIHZhbHVlKSBfX3dlYnBhY2tfcmVxdWlyZV9fLmQobnMsIGtleSwgZnVuY3Rpb24oa2V5KSB7IHJldHVybiB2YWx1ZVtrZXldOyB9LmJpbmQobnVsbCwga2V5KSk7XG4gXHRcdHJldHVybiBucztcbiBcdH07XG5cbiBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbiBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbiBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4gXHRcdHJldHVybiBnZXR0ZXI7XG4gXHR9O1xuXG4gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG5cblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSAwKTtcbiIsImltcG9ydCBFdmFsdWF0b3IgZnJvbSAnLi9ldmFsdWF0b3InO1xuXG5leHBvcnQgZGVmYXVsdCBFdmFsdWF0b3I7XG4iLCJpbXBvcnQgcm91bmQgZnJvbSAnbG9kYXNoLnJvdW5kJztcbmltcG9ydCBDb25zdGFudCBmcm9tICcuL2NvbnN0YW50JztcbmltcG9ydCBPcGVyYXRvciBmcm9tICcuL29wZXJhdG9yJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRXZhbHVhdG9yIHtcblx0Y29uc3RydWN0b3IoKSB7XG5cdFx0dGhpcy5zeW1ib2xzID0ge1xuXHRcdFx0J14nOiB7aW5maXg6ICdFWFAnfSxcblx0XHRcdCcqJzoge2luZml4OiAnTVVMJ30sXG5cdFx0XHQnLyc6IHtpbmZpeDogJ0RJVid9LFxuXHRcdFx0JyUnOiB7aW5maXg6ICdNT0QnfSxcblx0XHRcdCcrJzoge2luZml4OiAnQUREJywgcHJlZml4OiAnUE9TJ30sXG5cdFx0XHQnLSc6IHtpbmZpeDogJ1NVQicsIHByZWZpeDogJ05FRyd9LFxuXHRcdH07XG5cblx0XHR0aGlzLm9wZXJhdG9ycyA9IHtcblx0XHRcdCdFWFAnOiBuZXcgT3BlcmF0b3IoJ0VYUCcsIDQsICdyaWdodCcsIChhLCBiKSA9PiBhICoqIGIpLFxuXHRcdFx0J1BPUyc6IG5ldyBPcGVyYXRvcignUE9TJywgMywgJ3JpZ2h0JywgKGEpID0+IGEpLFxuXHRcdFx0J05FRyc6IG5ldyBPcGVyYXRvcignTkVHJywgMywgJ3JpZ2h0JywgKGEpID0+IC1hKSxcblx0XHRcdCdNVUwnOiBuZXcgT3BlcmF0b3IoJ01VTCcsIDIsICdsZWZ0JywgKGEsIGIpID0+IGEgKiBiKSxcblx0XHRcdCdESVYnOiBuZXcgT3BlcmF0b3IoJ0RJVicsIDIsICdsZWZ0JywgKGEsIGIpID0+IGEgLyBiKSxcblx0XHRcdCdNT0QnOiBuZXcgT3BlcmF0b3IoJ01PRCcsIDIsICdsZWZ0JywgKGEsIGIpID0+IGEgJSBiKSxcblx0XHRcdCdBREQnOiBuZXcgT3BlcmF0b3IoJ0FERCcsIDEsICdsZWZ0JywgKGEsIGIpID0+IGEgKyBiKSxcblx0XHRcdCdTVUInOiBuZXcgT3BlcmF0b3IoJ1NVQicsIDEsICdsZWZ0JywgKGEsIGIpID0+IGEgLSBiKSxcblx0XHR9O1xuXG5cdFx0dGhpcy5jb25zdGFudHMgPSB7XG5cdFx0XHQnRSc6IG5ldyBDb25zdGFudCgnRScsIE1hdGguRSksXG5cdFx0XHQnUEknOiBuZXcgQ29uc3RhbnQoJ1BJJywgTWF0aC5QSSksXG5cdFx0fTtcblxuXHRcdHRoaXMubnVtYmVycyA9IC8oXFxkK1xcLlxcZCopfChcXGQqXFwuXFxkKyl8KFxcZCspLztcblxuXHRcdHRoaXMub3BlblBhcmVudGhlc2lzID0gJygnO1xuXG5cdFx0dGhpcy5jbG9zZVBhcmVudGhlc2lzID0gJyknO1xuXG5cdFx0dGhpcy53aGl0ZXNwYWNlID0gL1xccy87XG5cdH1cblxuXHRpc1N5bWJvbCh0b2tlbikge1xuXHRcdHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodGhpcy5zeW1ib2xzLCB0b2tlbik7XG5cdH1cblxuXHRpc09wZXJhdG9yKHRva2VuKSB7XG5cdFx0cmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0aGlzLm9wZXJhdG9ycywgdG9rZW4pO1xuXHR9XG5cblx0aXNDb25zdGFudCh0b2tlbikge1xuXHRcdHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodGhpcy5jb25zdGFudHMsIHRva2VuKTtcblx0fVxuXG5cdGlzTnVtYmVyKHRva2VuKSB7XG5cdFx0cmV0dXJuIHRoaXMubnVtYmVycy50ZXN0KHRva2VuKTtcblx0fVxuXG5cdGlzT3BlblBhcmVudGhlc2lzKHRva2VuKSB7XG5cdFx0cmV0dXJuIHRva2VuID09PSB0aGlzLm9wZW5QYXJlbnRoZXNpcztcblx0fVxuXG5cdGlzQ2xvc2VQYXJlbnRoZXNpcyh0b2tlbikge1xuXHRcdHJldHVybiB0b2tlbiA9PT0gdGhpcy5jbG9zZVBhcmVudGhlc2lzO1xuXHR9XG5cblx0aXNXaGl0ZXNwYWNlKHRva2VuKSB7XG5cdFx0cmV0dXJuIHRoaXMud2hpdGVzcGFjZS50ZXN0KHRva2VuKTtcblx0fVxuXG5cdHRvcE9wZXJhdG9ySGFzUHJlY2VkZW5jZShvcGVyYXRvclN0YWNrLCBjdXJyZW50T3BlcmF0b3IpIHtcblx0XHRpZiAoIW9wZXJhdG9yU3RhY2subGVuZ3RoKSByZXR1cm4gZmFsc2U7XG5cblx0XHRjb25zdCB0b3BUb2tlbiA9IG9wZXJhdG9yU3RhY2tbb3BlcmF0b3JTdGFjay5sZW5ndGggLSAxXTtcblxuXHRcdGlmICghdGhpcy5pc09wZXJhdG9yKHRvcFRva2VuKSkgcmV0dXJuIGZhbHNlO1xuXG5cdFx0Y29uc3QgdG9wT3BlcmF0b3IgPSB0aGlzLm9wZXJhdG9yc1t0b3BUb2tlbl07XG5cblx0XHRpZiAoY3VycmVudE9wZXJhdG9yLm1ldGhvZC5sZW5ndGggPT09IDEgJiYgdG9wT3BlcmF0b3IubWV0aG9kLmxlbmd0aCA+IDEpIHJldHVybiBmYWxzZTtcblxuXHRcdHJldHVybiAoXG5cdFx0XHR0b3BPcGVyYXRvci5oYXNHcmVhdGVyUHJlY2VkZW5jZShjdXJyZW50T3BlcmF0b3IpXG5cdFx0XHR8fCAodG9wT3BlcmF0b3IuaGFzRXF1YWxQcmVjZWRlbmNlKGN1cnJlbnRPcGVyYXRvcikgJiYgdG9wT3BlcmF0b3IuaXNMZWZ0QXNzb2NpYXRpdmUoKSlcblx0XHQpO1xuXHR9XG5cblx0ZGV0ZXJtaW5lT3BlcmF0b3IodG9rZW4sIHByZXZpb3VzVG9rZW4pIHtcblx0XHRsZXQgbm90YXRpb247XG5cblx0XHRpZiAoXG5cdFx0XHRwcmV2aW91c1Rva2VuID09PSB1bmRlZmluZWRcblx0XHRcdHx8IHRoaXMuaXNPcGVuUGFyZW50aGVzaXMocHJldmlvdXNUb2tlbilcblx0XHRcdHx8IHRoaXMuaXNTeW1ib2wocHJldmlvdXNUb2tlbilcblx0XHQpIHtcblx0XHRcdG5vdGF0aW9uID0gJ3ByZWZpeCc7XG5cdFx0fSBlbHNlIGlmIChcblx0XHRcdHRoaXMuaXNDbG9zZVBhcmVudGhlc2lzKHByZXZpb3VzVG9rZW4pXG5cdFx0XHR8fCAodGhpcy5pc051bWJlcihwcmV2aW91c1Rva2VuKVxuXHRcdFx0fHwgdGhpcy5pc0NvbnN0YW50KHByZXZpb3VzVG9rZW4pKVxuXHRcdCkge1xuXHRcdFx0bm90YXRpb24gPSAnaW5maXgnO1xuXHRcdH1cblxuXHRcdHJldHVybiB0aGlzLm9wZXJhdG9yc1t0aGlzLnN5bWJvbHNbdG9rZW5dW25vdGF0aW9uXV07XG5cdH1cblxuXHRwYXJzZShzdHJpbmcpIHtcblx0XHRpZiAoIXN0cmluZy5sZW5ndGgpIHtcblx0XHRcdHRocm93IEVycm9yKCdObyBpbnB1dCcpO1xuXHRcdH1cblxuXHRcdGNvbnN0IHBhdHRlcm4gPSAvKFxcZCtcXC5cXGQqKXwoXFxkKlxcLlxcZCspfChcXGQrKXwoW2EtekEtWl0rKXwoLikvZztcblx0XHRjb25zdCBpbmZpeEV4cHJlc3Npb24gPSAoc3RyaW5nLm1hdGNoKHBhdHRlcm4pIHx8IFtdKVxuXHRcdFx0LmZpbHRlcigodG9rZW4pID0+ICF0aGlzLmlzV2hpdGVzcGFjZSh0b2tlbikpXG5cdFx0XHQubWFwKCh0b2tlbikgPT4gdG9rZW4udG9VcHBlckNhc2UoKSk7XG5cblx0XHRyZXR1cm4gaW5maXhFeHByZXNzaW9uO1xuXHR9XG5cblx0Y29udmVydChpbmZpeEV4cHJlc3Npb24pIHtcblx0XHRpZiAoIWluZml4RXhwcmVzc2lvbi5sZW5ndGgpIHtcblx0XHRcdHRocm93IEVycm9yKCdObyB2YWxpZCB0b2tlbnMnKTtcblx0XHR9XG5cblx0XHRjb25zdCBvcGVyYXRvclN0YWNrID0gW107XG5cdFx0Y29uc3QgcG9zdGZpeEV4cHJlc3Npb24gPSBbXTtcblxuXHRcdGluZml4RXhwcmVzc2lvbi5mb3JFYWNoKCh0b2tlbiwgaW5kZXgpID0+IHtcblx0XHRcdGlmICh0aGlzLmlzTnVtYmVyKHRva2VuKSkge1xuXHRcdFx0XHRwb3N0Zml4RXhwcmVzc2lvbi5wdXNoKHBhcnNlRmxvYXQodG9rZW4pKTtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAodGhpcy5pc0NvbnN0YW50KHRva2VuKSkge1xuXHRcdFx0XHRwb3N0Zml4RXhwcmVzc2lvbi5wdXNoKHRoaXMuY29uc3RhbnRzW3Rva2VuXS5uYW1lKTtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAodGhpcy5pc1N5bWJvbCh0b2tlbikpIHtcblx0XHRcdFx0Y29uc3Qgb3BlcmF0b3IgPSB0aGlzLmRldGVybWluZU9wZXJhdG9yKHRva2VuLCBpbmZpeEV4cHJlc3Npb25baW5kZXggLSAxXSk7XG5cblx0XHRcdFx0aWYgKG9wZXJhdG9yID09PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0XHR0aHJvdyBFcnJvcihgTWlzdXNlZCBvcGVyYXRvcjogJHt0b2tlbn1gKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHdoaWxlICh0aGlzLnRvcE9wZXJhdG9ySGFzUHJlY2VkZW5jZShvcGVyYXRvclN0YWNrLCBvcGVyYXRvcikpIHtcblx0XHRcdFx0XHRwb3N0Zml4RXhwcmVzc2lvbi5wdXNoKG9wZXJhdG9yU3RhY2sucG9wKCkpO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0b3BlcmF0b3JTdGFjay5wdXNoKG9wZXJhdG9yLm5hbWUpO1xuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHR9XG5cblx0XHRcdGlmICh0aGlzLmlzT3BlblBhcmVudGhlc2lzKHRva2VuKSkge1xuXHRcdFx0XHRvcGVyYXRvclN0YWNrLnB1c2godG9rZW4pO1xuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHR9XG5cblx0XHRcdGlmICh0aGlzLmlzQ2xvc2VQYXJlbnRoZXNpcyh0b2tlbikpIHtcblx0XHRcdFx0d2hpbGUgKCF0aGlzLmlzT3BlblBhcmVudGhlc2lzKG9wZXJhdG9yU3RhY2tbb3BlcmF0b3JTdGFjay5sZW5ndGggLSAxXSkpIHtcblx0XHRcdFx0XHRpZiAoIW9wZXJhdG9yU3RhY2subGVuZ3RoKSB7XG5cdFx0XHRcdFx0XHR0aHJvdyBFcnJvcignTWlzbWF0Y2hlZCBwYXJlbnRoZXNlcycpO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdHBvc3RmaXhFeHByZXNzaW9uLnB1c2gob3BlcmF0b3JTdGFjay5wb3AoKSk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRvcGVyYXRvclN0YWNrLnBvcCgpO1xuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHR9XG5cblx0XHRcdHRocm93IEVycm9yKGBJbnZhbGlkIHRva2VuOiAke3Rva2VufWApO1xuXHRcdH0pO1xuXG5cdFx0d2hpbGUgKG9wZXJhdG9yU3RhY2subGVuZ3RoKSB7XG5cdFx0XHRjb25zdCBvcGVyYXRvciA9IG9wZXJhdG9yU3RhY2tbb3BlcmF0b3JTdGFjay5sZW5ndGggLSAxXTtcblxuXHRcdFx0aWYgKHRoaXMuaXNPcGVuUGFyZW50aGVzaXMob3BlcmF0b3IpIHx8IHRoaXMuaXNDbG9zZVBhcmVudGhlc2lzKG9wZXJhdG9yKSkge1xuXHRcdFx0XHR0aHJvdyBFcnJvcignTWlzbWF0Y2hlZCBwYXJlbnRoZXNlcycpO1xuXHRcdFx0fVxuXG5cdFx0XHRwb3N0Zml4RXhwcmVzc2lvbi5wdXNoKG9wZXJhdG9yU3RhY2sucG9wKCkpO1xuXHRcdH1cblxuXHRcdHJldHVybiBwb3N0Zml4RXhwcmVzc2lvbjtcblx0fVxuXG5cdHJlc29sdmUocG9zdGZpeEV4cHJlc3Npb24pIHtcblx0XHRpZiAoIXBvc3RmaXhFeHByZXNzaW9uLmxlbmd0aCkge1xuXHRcdFx0dGhyb3cgRXJyb3IoJ05vIG9wZXJhdGlvbnMnKTtcblx0XHR9XG5cblx0XHRjb25zdCBldmFsdWF0aW9uU3RhY2sgPSBbXTtcblxuXHRcdHBvc3RmaXhFeHByZXNzaW9uLmZvckVhY2goKHRva2VuKSA9PiB7XG5cdFx0XHRpZiAodGhpcy5pc051bWJlcih0b2tlbikpIHtcblx0XHRcdFx0ZXZhbHVhdGlvblN0YWNrLnB1c2godG9rZW4pO1xuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHR9XG5cblx0XHRcdGlmICh0aGlzLmlzQ29uc3RhbnQodG9rZW4pKSB7XG5cdFx0XHRcdGV2YWx1YXRpb25TdGFjay5wdXNoKHRoaXMuY29uc3RhbnRzW3Rva2VuXS52YWx1ZSk7XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblxuXHRcdFx0Y29uc3Qgb3BlcmF0b3IgPSB0aGlzLm9wZXJhdG9yc1t0b2tlbl07XG5cblx0XHRcdGlmIChldmFsdWF0aW9uU3RhY2subGVuZ3RoIDwgb3BlcmF0b3IubWV0aG9kLmxlbmd0aCkge1xuXHRcdFx0XHR0aHJvdyBFcnJvcignTWlzc2luZyBvcGVyYW5kJyk7XG5cdFx0XHR9XG5cblx0XHRcdGlmIChvcGVyYXRvci5uYW1lID09PSAnRElWJyAmJiBldmFsdWF0aW9uU3RhY2tbMV0gPT09IDApIHtcblx0XHRcdFx0dGhyb3cgRXJyb3IoJ0RpdmlzaW9uIGJ5IHplcm8nKTtcblx0XHRcdH1cblxuXHRcdFx0Y29uc3QgcmVzdWx0ID0gb3BlcmF0b3IubWV0aG9kKC4uLmV2YWx1YXRpb25TdGFjay5zcGxpY2UoLW9wZXJhdG9yLm1ldGhvZC5sZW5ndGgpKTtcblx0XHRcdGV2YWx1YXRpb25TdGFjay5wdXNoKHJlc3VsdCk7XG5cdFx0fSk7XG5cblx0XHRpZiAoZXZhbHVhdGlvblN0YWNrLmxlbmd0aCA+IDEpIHtcblx0XHRcdHRocm93IEVycm9yKCdNaXNzaW5nIG9wZXJhdG9yJyk7XG5cdFx0fVxuXG5cdFx0Y29uc3QgcmVkdWN0aW9uID0gZXZhbHVhdGlvblN0YWNrWzBdO1xuXHRcdGNvbnN0IHJlc3VsdCA9IHJvdW5kKHJlZHVjdGlvbiwgOCk7XG5cblx0XHRyZXR1cm4gcmVzdWx0O1xuXHR9XG5cblx0ZXZhbHVhdGUoc3RyaW5nKSB7XG5cdFx0dHJ5IHtcblx0XHRcdGNvbnN0IGluZml4RXhwcmVzc2lvbiA9IHRoaXMucGFyc2Uoc3RyaW5nKTtcblx0XHRcdGNvbnN0IHBvc3RmaXhFeHByZXNzaW9uID0gdGhpcy5jb252ZXJ0KGluZml4RXhwcmVzc2lvbik7XG5cdFx0XHRjb25zdCByZXN1bHQgPSB0aGlzLnJlc29sdmUocG9zdGZpeEV4cHJlc3Npb24pO1xuXHRcdFx0cmV0dXJuIHJlc3VsdDtcblx0XHR9IGNhdGNoIChlcnJvcikge1xuXHRcdFx0dGhyb3cgZXJyb3I7XG5cdFx0fVxuXHR9XG59XG4iLCIvKipcbiAqIGxvZGFzaCAoQ3VzdG9tIEJ1aWxkKSA8aHR0cHM6Ly9sb2Rhc2guY29tLz5cbiAqIEJ1aWxkOiBgbG9kYXNoIG1vZHVsYXJpemUgZXhwb3J0cz1cIm5wbVwiIC1vIC4vYFxuICogQ29weXJpZ2h0IGpRdWVyeSBGb3VuZGF0aW9uIGFuZCBvdGhlciBjb250cmlidXRvcnMgPGh0dHBzOi8vanF1ZXJ5Lm9yZy8+XG4gKiBSZWxlYXNlZCB1bmRlciBNSVQgbGljZW5zZSA8aHR0cHM6Ly9sb2Rhc2guY29tL2xpY2Vuc2U+XG4gKiBCYXNlZCBvbiBVbmRlcnNjb3JlLmpzIDEuOC4zIDxodHRwOi8vdW5kZXJzY29yZWpzLm9yZy9MSUNFTlNFPlxuICogQ29weXJpZ2h0IEplcmVteSBBc2hrZW5hcywgRG9jdW1lbnRDbG91ZCBhbmQgSW52ZXN0aWdhdGl2ZSBSZXBvcnRlcnMgJiBFZGl0b3JzXG4gKi9cblxuLyoqIFVzZWQgYXMgcmVmZXJlbmNlcyBmb3IgdmFyaW91cyBgTnVtYmVyYCBjb25zdGFudHMuICovXG52YXIgSU5GSU5JVFkgPSAxIC8gMCxcbiAgICBNQVhfSU5URUdFUiA9IDEuNzk3NjkzMTM0ODYyMzE1N2UrMzA4LFxuICAgIE5BTiA9IDAgLyAwO1xuXG4vKiogYE9iamVjdCN0b1N0cmluZ2AgcmVzdWx0IHJlZmVyZW5jZXMuICovXG52YXIgc3ltYm9sVGFnID0gJ1tvYmplY3QgU3ltYm9sXSc7XG5cbi8qKiBVc2VkIHRvIG1hdGNoIGxlYWRpbmcgYW5kIHRyYWlsaW5nIHdoaXRlc3BhY2UuICovXG52YXIgcmVUcmltID0gL15cXHMrfFxccyskL2c7XG5cbi8qKiBVc2VkIHRvIGRldGVjdCBiYWQgc2lnbmVkIGhleGFkZWNpbWFsIHN0cmluZyB2YWx1ZXMuICovXG52YXIgcmVJc0JhZEhleCA9IC9eWy0rXTB4WzAtOWEtZl0rJC9pO1xuXG4vKiogVXNlZCB0byBkZXRlY3QgYmluYXJ5IHN0cmluZyB2YWx1ZXMuICovXG52YXIgcmVJc0JpbmFyeSA9IC9eMGJbMDFdKyQvaTtcblxuLyoqIFVzZWQgdG8gZGV0ZWN0IG9jdGFsIHN0cmluZyB2YWx1ZXMuICovXG52YXIgcmVJc09jdGFsID0gL14wb1swLTddKyQvaTtcblxuLyoqIEJ1aWx0LWluIG1ldGhvZCByZWZlcmVuY2VzIHdpdGhvdXQgYSBkZXBlbmRlbmN5IG9uIGByb290YC4gKi9cbnZhciBmcmVlUGFyc2VJbnQgPSBwYXJzZUludDtcblxuLyoqIERldGVjdCBmcmVlIHZhcmlhYmxlIGBnbG9iYWxgIGZyb20gTm9kZS5qcy4gKi9cbnZhciBmcmVlR2xvYmFsID0gdHlwZW9mIGdsb2JhbCA9PSAnb2JqZWN0JyAmJiBnbG9iYWwgJiYgZ2xvYmFsLk9iamVjdCA9PT0gT2JqZWN0ICYmIGdsb2JhbDtcblxuLyoqIERldGVjdCBmcmVlIHZhcmlhYmxlIGBzZWxmYC4gKi9cbnZhciBmcmVlU2VsZiA9IHR5cGVvZiBzZWxmID09ICdvYmplY3QnICYmIHNlbGYgJiYgc2VsZi5PYmplY3QgPT09IE9iamVjdCAmJiBzZWxmO1xuXG4vKiogVXNlZCBhcyBhIHJlZmVyZW5jZSB0byB0aGUgZ2xvYmFsIG9iamVjdC4gKi9cbnZhciByb290ID0gZnJlZUdsb2JhbCB8fCBmcmVlU2VsZiB8fCBGdW5jdGlvbigncmV0dXJuIHRoaXMnKSgpO1xuXG4vKiogVXNlZCBmb3IgYnVpbHQtaW4gbWV0aG9kIHJlZmVyZW5jZXMuICovXG52YXIgb2JqZWN0UHJvdG8gPSBPYmplY3QucHJvdG90eXBlO1xuXG4vKipcbiAqIFVzZWQgdG8gcmVzb2x2ZSB0aGVcbiAqIFtgdG9TdHJpbmdUYWdgXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1vYmplY3QucHJvdG90eXBlLnRvc3RyaW5nKVxuICogb2YgdmFsdWVzLlxuICovXG52YXIgb2JqZWN0VG9TdHJpbmcgPSBvYmplY3RQcm90by50b1N0cmluZztcblxuLyoqIEJ1aWx0LWluIHZhbHVlIHJlZmVyZW5jZXMuICovXG52YXIgU3ltYm9sID0gcm9vdC5TeW1ib2w7XG5cbi8qIEJ1aWx0LWluIG1ldGhvZCByZWZlcmVuY2VzIGZvciB0aG9zZSB3aXRoIHRoZSBzYW1lIG5hbWUgYXMgb3RoZXIgYGxvZGFzaGAgbWV0aG9kcy4gKi9cbnZhciBuYXRpdmVNaW4gPSBNYXRoLm1pbjtcblxuLyoqIFVzZWQgdG8gY29udmVydCBzeW1ib2xzIHRvIHByaW1pdGl2ZXMgYW5kIHN0cmluZ3MuICovXG52YXIgc3ltYm9sUHJvdG8gPSBTeW1ib2wgPyBTeW1ib2wucHJvdG90eXBlIDogdW5kZWZpbmVkLFxuICAgIHN5bWJvbFRvU3RyaW5nID0gc3ltYm9sUHJvdG8gPyBzeW1ib2xQcm90by50b1N0cmluZyA6IHVuZGVmaW5lZDtcblxuLyoqXG4gKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy50b1N0cmluZ2Agd2hpY2ggZG9lc24ndCBjb252ZXJ0IG51bGxpc2hcbiAqIHZhbHVlcyB0byBlbXB0eSBzdHJpbmdzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBwcm9jZXNzLlxuICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgc3RyaW5nLlxuICovXG5mdW5jdGlvbiBiYXNlVG9TdHJpbmcodmFsdWUpIHtcbiAgLy8gRXhpdCBlYXJseSBmb3Igc3RyaW5ncyB0byBhdm9pZCBhIHBlcmZvcm1hbmNlIGhpdCBpbiBzb21lIGVudmlyb25tZW50cy5cbiAgaWYgKHR5cGVvZiB2YWx1ZSA9PSAnc3RyaW5nJykge1xuICAgIHJldHVybiB2YWx1ZTtcbiAgfVxuICBpZiAoaXNTeW1ib2wodmFsdWUpKSB7XG4gICAgcmV0dXJuIHN5bWJvbFRvU3RyaW5nID8gc3ltYm9sVG9TdHJpbmcuY2FsbCh2YWx1ZSkgOiAnJztcbiAgfVxuICB2YXIgcmVzdWx0ID0gKHZhbHVlICsgJycpO1xuICByZXR1cm4gKHJlc3VsdCA9PSAnMCcgJiYgKDEgLyB2YWx1ZSkgPT0gLUlORklOSVRZKSA/ICctMCcgOiByZXN1bHQ7XG59XG5cbi8qKlxuICogQ3JlYXRlcyBhIGZ1bmN0aW9uIGxpa2UgYF8ucm91bmRgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge3N0cmluZ30gbWV0aG9kTmFtZSBUaGUgbmFtZSBvZiB0aGUgYE1hdGhgIG1ldGhvZCB0byB1c2Ugd2hlbiByb3VuZGluZy5cbiAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IHJvdW5kIGZ1bmN0aW9uLlxuICovXG5mdW5jdGlvbiBjcmVhdGVSb3VuZChtZXRob2ROYW1lKSB7XG4gIHZhciBmdW5jID0gTWF0aFttZXRob2ROYW1lXTtcbiAgcmV0dXJuIGZ1bmN0aW9uKG51bWJlciwgcHJlY2lzaW9uKSB7XG4gICAgbnVtYmVyID0gdG9OdW1iZXIobnVtYmVyKTtcbiAgICBwcmVjaXNpb24gPSBuYXRpdmVNaW4odG9JbnRlZ2VyKHByZWNpc2lvbiksIDI5Mik7XG4gICAgaWYgKHByZWNpc2lvbikge1xuICAgICAgLy8gU2hpZnQgd2l0aCBleHBvbmVudGlhbCBub3RhdGlvbiB0byBhdm9pZCBmbG9hdGluZy1wb2ludCBpc3N1ZXMuXG4gICAgICAvLyBTZWUgW01ETl0oaHR0cHM6Ly9tZG4uaW8vcm91bmQjRXhhbXBsZXMpIGZvciBtb3JlIGRldGFpbHMuXG4gICAgICB2YXIgcGFpciA9ICh0b1N0cmluZyhudW1iZXIpICsgJ2UnKS5zcGxpdCgnZScpLFxuICAgICAgICAgIHZhbHVlID0gZnVuYyhwYWlyWzBdICsgJ2UnICsgKCtwYWlyWzFdICsgcHJlY2lzaW9uKSk7XG5cbiAgICAgIHBhaXIgPSAodG9TdHJpbmcodmFsdWUpICsgJ2UnKS5zcGxpdCgnZScpO1xuICAgICAgcmV0dXJuICsocGFpclswXSArICdlJyArICgrcGFpclsxXSAtIHByZWNpc2lvbikpO1xuICAgIH1cbiAgICByZXR1cm4gZnVuYyhudW1iZXIpO1xuICB9O1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIHRoZVxuICogW2xhbmd1YWdlIHR5cGVdKGh0dHA6Ly93d3cuZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1lY21hc2NyaXB0LWxhbmd1YWdlLXR5cGVzKVxuICogb2YgYE9iamVjdGAuIChlLmcuIGFycmF5cywgZnVuY3Rpb25zLCBvYmplY3RzLCByZWdleGVzLCBgbmV3IE51bWJlcigwKWAsIGFuZCBgbmV3IFN0cmluZygnJylgKVxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgMC4xLjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGFuIG9iamVjdCwgZWxzZSBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLmlzT2JqZWN0KHt9KTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzT2JqZWN0KFsxLCAyLCAzXSk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc09iamVjdChfLm5vb3ApO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNPYmplY3QobnVsbCk7XG4gKiAvLyA9PiBmYWxzZVxuICovXG5mdW5jdGlvbiBpc09iamVjdCh2YWx1ZSkge1xuICB2YXIgdHlwZSA9IHR5cGVvZiB2YWx1ZTtcbiAgcmV0dXJuICEhdmFsdWUgJiYgKHR5cGUgPT0gJ29iamVjdCcgfHwgdHlwZSA9PSAnZnVuY3Rpb24nKTtcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBvYmplY3QtbGlrZS4gQSB2YWx1ZSBpcyBvYmplY3QtbGlrZSBpZiBpdCdzIG5vdCBgbnVsbGBcbiAqIGFuZCBoYXMgYSBgdHlwZW9mYCByZXN1bHQgb2YgXCJvYmplY3RcIi5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDQuMC4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBvYmplY3QtbGlrZSwgZWxzZSBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLmlzT2JqZWN0TGlrZSh7fSk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc09iamVjdExpa2UoWzEsIDIsIDNdKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzT2JqZWN0TGlrZShfLm5vb3ApO1xuICogLy8gPT4gZmFsc2VcbiAqXG4gKiBfLmlzT2JqZWN0TGlrZShudWxsKTtcbiAqIC8vID0+IGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzT2JqZWN0TGlrZSh2YWx1ZSkge1xuICByZXR1cm4gISF2YWx1ZSAmJiB0eXBlb2YgdmFsdWUgPT0gJ29iamVjdCc7XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgY2xhc3NpZmllZCBhcyBhIGBTeW1ib2xgIHByaW1pdGl2ZSBvciBvYmplY3QuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSA0LjAuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBzeW1ib2wsIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogXy5pc1N5bWJvbChTeW1ib2wuaXRlcmF0b3IpO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNTeW1ib2woJ2FiYycpO1xuICogLy8gPT4gZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNTeW1ib2wodmFsdWUpIHtcbiAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PSAnc3ltYm9sJyB8fFxuICAgIChpc09iamVjdExpa2UodmFsdWUpICYmIG9iamVjdFRvU3RyaW5nLmNhbGwodmFsdWUpID09IHN5bWJvbFRhZyk7XG59XG5cbi8qKlxuICogQ29udmVydHMgYHZhbHVlYCB0byBhIGZpbml0ZSBudW1iZXIuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSA0LjEyLjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjb252ZXJ0LlxuICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgY29udmVydGVkIG51bWJlci5cbiAqIEBleGFtcGxlXG4gKlxuICogXy50b0Zpbml0ZSgzLjIpO1xuICogLy8gPT4gMy4yXG4gKlxuICogXy50b0Zpbml0ZShOdW1iZXIuTUlOX1ZBTFVFKTtcbiAqIC8vID0+IDVlLTMyNFxuICpcbiAqIF8udG9GaW5pdGUoSW5maW5pdHkpO1xuICogLy8gPT4gMS43OTc2OTMxMzQ4NjIzMTU3ZSszMDhcbiAqXG4gKiBfLnRvRmluaXRlKCczLjInKTtcbiAqIC8vID0+IDMuMlxuICovXG5mdW5jdGlvbiB0b0Zpbml0ZSh2YWx1ZSkge1xuICBpZiAoIXZhbHVlKSB7XG4gICAgcmV0dXJuIHZhbHVlID09PSAwID8gdmFsdWUgOiAwO1xuICB9XG4gIHZhbHVlID0gdG9OdW1iZXIodmFsdWUpO1xuICBpZiAodmFsdWUgPT09IElORklOSVRZIHx8IHZhbHVlID09PSAtSU5GSU5JVFkpIHtcbiAgICB2YXIgc2lnbiA9ICh2YWx1ZSA8IDAgPyAtMSA6IDEpO1xuICAgIHJldHVybiBzaWduICogTUFYX0lOVEVHRVI7XG4gIH1cbiAgcmV0dXJuIHZhbHVlID09PSB2YWx1ZSA/IHZhbHVlIDogMDtcbn1cblxuLyoqXG4gKiBDb252ZXJ0cyBgdmFsdWVgIHRvIGFuIGludGVnZXIuXG4gKlxuICogKipOb3RlOioqIFRoaXMgbWV0aG9kIGlzIGxvb3NlbHkgYmFzZWQgb25cbiAqIFtgVG9JbnRlZ2VyYF0oaHR0cDovL3d3dy5lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLXRvaW50ZWdlcikuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSA0LjAuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNvbnZlcnQuXG4gKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBjb252ZXJ0ZWQgaW50ZWdlci5cbiAqIEBleGFtcGxlXG4gKlxuICogXy50b0ludGVnZXIoMy4yKTtcbiAqIC8vID0+IDNcbiAqXG4gKiBfLnRvSW50ZWdlcihOdW1iZXIuTUlOX1ZBTFVFKTtcbiAqIC8vID0+IDBcbiAqXG4gKiBfLnRvSW50ZWdlcihJbmZpbml0eSk7XG4gKiAvLyA9PiAxLjc5NzY5MzEzNDg2MjMxNTdlKzMwOFxuICpcbiAqIF8udG9JbnRlZ2VyKCczLjInKTtcbiAqIC8vID0+IDNcbiAqL1xuZnVuY3Rpb24gdG9JbnRlZ2VyKHZhbHVlKSB7XG4gIHZhciByZXN1bHQgPSB0b0Zpbml0ZSh2YWx1ZSksXG4gICAgICByZW1haW5kZXIgPSByZXN1bHQgJSAxO1xuXG4gIHJldHVybiByZXN1bHQgPT09IHJlc3VsdCA/IChyZW1haW5kZXIgPyByZXN1bHQgLSByZW1haW5kZXIgOiByZXN1bHQpIDogMDtcbn1cblxuLyoqXG4gKiBDb252ZXJ0cyBgdmFsdWVgIHRvIGEgbnVtYmVyLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgNC4wLjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBwcm9jZXNzLlxuICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgbnVtYmVyLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLnRvTnVtYmVyKDMuMik7XG4gKiAvLyA9PiAzLjJcbiAqXG4gKiBfLnRvTnVtYmVyKE51bWJlci5NSU5fVkFMVUUpO1xuICogLy8gPT4gNWUtMzI0XG4gKlxuICogXy50b051bWJlcihJbmZpbml0eSk7XG4gKiAvLyA9PiBJbmZpbml0eVxuICpcbiAqIF8udG9OdW1iZXIoJzMuMicpO1xuICogLy8gPT4gMy4yXG4gKi9cbmZ1bmN0aW9uIHRvTnVtYmVyKHZhbHVlKSB7XG4gIGlmICh0eXBlb2YgdmFsdWUgPT0gJ251bWJlcicpIHtcbiAgICByZXR1cm4gdmFsdWU7XG4gIH1cbiAgaWYgKGlzU3ltYm9sKHZhbHVlKSkge1xuICAgIHJldHVybiBOQU47XG4gIH1cbiAgaWYgKGlzT2JqZWN0KHZhbHVlKSkge1xuICAgIHZhciBvdGhlciA9IHR5cGVvZiB2YWx1ZS52YWx1ZU9mID09ICdmdW5jdGlvbicgPyB2YWx1ZS52YWx1ZU9mKCkgOiB2YWx1ZTtcbiAgICB2YWx1ZSA9IGlzT2JqZWN0KG90aGVyKSA/IChvdGhlciArICcnKSA6IG90aGVyO1xuICB9XG4gIGlmICh0eXBlb2YgdmFsdWUgIT0gJ3N0cmluZycpIHtcbiAgICByZXR1cm4gdmFsdWUgPT09IDAgPyB2YWx1ZSA6ICt2YWx1ZTtcbiAgfVxuICB2YWx1ZSA9IHZhbHVlLnJlcGxhY2UocmVUcmltLCAnJyk7XG4gIHZhciBpc0JpbmFyeSA9IHJlSXNCaW5hcnkudGVzdCh2YWx1ZSk7XG4gIHJldHVybiAoaXNCaW5hcnkgfHwgcmVJc09jdGFsLnRlc3QodmFsdWUpKVxuICAgID8gZnJlZVBhcnNlSW50KHZhbHVlLnNsaWNlKDIpLCBpc0JpbmFyeSA/IDIgOiA4KVxuICAgIDogKHJlSXNCYWRIZXgudGVzdCh2YWx1ZSkgPyBOQU4gOiArdmFsdWUpO1xufVxuXG4vKipcbiAqIENvbnZlcnRzIGB2YWx1ZWAgdG8gYSBzdHJpbmcuIEFuIGVtcHR5IHN0cmluZyBpcyByZXR1cm5lZCBmb3IgYG51bGxgXG4gKiBhbmQgYHVuZGVmaW5lZGAgdmFsdWVzLiBUaGUgc2lnbiBvZiBgLTBgIGlzIHByZXNlcnZlZC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDQuMC4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gcHJvY2Vzcy5cbiAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIHN0cmluZy5cbiAqIEBleGFtcGxlXG4gKlxuICogXy50b1N0cmluZyhudWxsKTtcbiAqIC8vID0+ICcnXG4gKlxuICogXy50b1N0cmluZygtMCk7XG4gKiAvLyA9PiAnLTAnXG4gKlxuICogXy50b1N0cmluZyhbMSwgMiwgM10pO1xuICogLy8gPT4gJzEsMiwzJ1xuICovXG5mdW5jdGlvbiB0b1N0cmluZyh2YWx1ZSkge1xuICByZXR1cm4gdmFsdWUgPT0gbnVsbCA/ICcnIDogYmFzZVRvU3RyaW5nKHZhbHVlKTtcbn1cblxuLyoqXG4gKiBDb21wdXRlcyBgbnVtYmVyYCByb3VuZGVkIHRvIGBwcmVjaXNpb25gLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgMy4xMC4wXG4gKiBAY2F0ZWdvcnkgTWF0aFxuICogQHBhcmFtIHtudW1iZXJ9IG51bWJlciBUaGUgbnVtYmVyIHRvIHJvdW5kLlxuICogQHBhcmFtIHtudW1iZXJ9IFtwcmVjaXNpb249MF0gVGhlIHByZWNpc2lvbiB0byByb3VuZCB0by5cbiAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIHJvdW5kZWQgbnVtYmVyLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLnJvdW5kKDQuMDA2KTtcbiAqIC8vID0+IDRcbiAqXG4gKiBfLnJvdW5kKDQuMDA2LCAyKTtcbiAqIC8vID0+IDQuMDFcbiAqXG4gKiBfLnJvdW5kKDQwNjAsIC0yKTtcbiAqIC8vID0+IDQxMDBcbiAqL1xudmFyIHJvdW5kID0gY3JlYXRlUm91bmQoJ3JvdW5kJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gcm91bmQ7XG4iLCJ2YXIgZztcblxuLy8gVGhpcyB3b3JrcyBpbiBub24tc3RyaWN0IG1vZGVcbmcgPSAoZnVuY3Rpb24oKSB7XG5cdHJldHVybiB0aGlzO1xufSkoKTtcblxudHJ5IHtcblx0Ly8gVGhpcyB3b3JrcyBpZiBldmFsIGlzIGFsbG93ZWQgKHNlZSBDU1ApXG5cdGcgPSBnIHx8IG5ldyBGdW5jdGlvbihcInJldHVybiB0aGlzXCIpKCk7XG59IGNhdGNoIChlKSB7XG5cdC8vIFRoaXMgd29ya3MgaWYgdGhlIHdpbmRvdyByZWZlcmVuY2UgaXMgYXZhaWxhYmxlXG5cdGlmICh0eXBlb2Ygd2luZG93ID09PSBcIm9iamVjdFwiKSBnID0gd2luZG93O1xufVxuXG4vLyBnIGNhbiBzdGlsbCBiZSB1bmRlZmluZWQsIGJ1dCBub3RoaW5nIHRvIGRvIGFib3V0IGl0Li4uXG4vLyBXZSByZXR1cm4gdW5kZWZpbmVkLCBpbnN0ZWFkIG9mIG5vdGhpbmcgaGVyZSwgc28gaXQnc1xuLy8gZWFzaWVyIHRvIGhhbmRsZSB0aGlzIGNhc2UuIGlmKCFnbG9iYWwpIHsgLi4ufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGc7XG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBDb25zdGFudCB7XG5cdGNvbnN0cnVjdG9yKG5hbWUsIHZhbHVlKSB7XG5cdFx0dGhpcy5uYW1lID0gbmFtZTtcblx0XHR0aGlzLnZhbHVlID0gdmFsdWU7XG5cdH1cbn1cbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIE9wZXJhdG9yIHtcblx0Y29uc3RydWN0b3IobmFtZSwgcHJlY2VkZW5jZSwgYXNzb2NpYXRpdml0eSwgbWV0aG9kKSB7XG5cdFx0dGhpcy5uYW1lID0gbmFtZTtcblx0XHR0aGlzLnByZWNlZGVuY2UgPSBwcmVjZWRlbmNlO1xuXHRcdHRoaXMuYXNzb2NpYXRpdml0eSA9IGFzc29jaWF0aXZpdHk7XG5cdFx0dGhpcy5tZXRob2QgPSBtZXRob2Q7XG5cdH1cblxuXHRoYXNFcXVhbFByZWNlZGVuY2Uob3BlcmF0b3IpIHtcblx0XHRyZXR1cm4gdGhpcy5wcmVjZWRlbmNlID09PSBvcGVyYXRvci5wcmVjZWRlbmNlO1xuXHR9XG5cblx0aGFzR3JlYXRlclByZWNlZGVuY2Uob3BlcmF0b3IpIHtcblx0XHRyZXR1cm4gdGhpcy5wcmVjZWRlbmNlID4gb3BlcmF0b3IucHJlY2VkZW5jZTtcblx0fVxuXG5cdGlzTGVmdEFzc29jaWF0aXZlKCkge1xuXHRcdHJldHVybiB0aGlzLmFzc29jaWF0aXZpdHkgPT09ICdsZWZ0Jztcblx0fVxufVxuIl0sInNvdXJjZVJvb3QiOiIifQ==