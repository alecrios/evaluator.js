!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("evaluator",[],t):"object"==typeof exports?exports.evaluator=t():e.evaluator=t()}("undefined"!=typeof self?self:this,function(){return function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(n,o,function(t){return e[t]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=2)}([function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default=function e(t,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.name=t,this.value=r},e.exports=t.default},function(e,t,r){"use strict";function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(){function e(t,r,n,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.name=t,this.precedence=r,this.associativity=n,this.method=o}var t,r,o;return t=e,(r=[{key:"hasEqualPrecedence",value:function(e){return this.precedence===e.precedence}},{key:"hasGreaterPrecedence",value:function(e){return this.precedence>e.precedence}},{key:"isLeftAssociative",value:function(){return"left"===this.associativity}}])&&n(t.prototype,r),o&&n(t,o),e}();t.default=o,e.exports=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"Constant",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(t,"Evaluator",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(t,"Operator",{enumerable:!0,get:function(){return i.default}});var n=u(r(0)),o=u(r(3)),i=u(r(1));function u(e){return e&&e.__esModule?e:{default:e}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=u(r(4)),o=u(r(0)),i=u(r(1));function u(e){return e&&e.__esModule?e:{default:e}}function s(e){return function(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var f=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.symbols={"^":{infix:"EXP"},"*":{infix:"MUL"},"/":{infix:"DIV"},"%":{infix:"MOD"},"+":{infix:"ADD",prefix:"POS"},"-":{infix:"SUB",prefix:"NEG"}},this.operators={EXP:new i.default("EXP",4,"right",function(e,t){return Math.pow(e,t)}),POS:new i.default("POS",3,"right",function(e){return e}),NEG:new i.default("NEG",3,"right",function(e){return-e}),MUL:new i.default("MUL",2,"left",function(e,t){return e*t}),DIV:new i.default("DIV",2,"left",function(e,t){return e/t}),MOD:new i.default("MOD",2,"left",function(e,t){return e%t}),ADD:new i.default("ADD",1,"left",function(e,t){return e+t}),SUB:new i.default("SUB",1,"left",function(e,t){return e-t})},this.constants={E:new o.default("E",Math.E),PI:new o.default("PI",Math.PI)},this.numbers=/(\d+\.\d*)|(\d*\.\d+)|(\d+)/,this.openParenthesis="(",this.closeParenthesis=")",this.whitespace=/\s/}var t,r,u;return t=e,(r=[{key:"isSymbol",value:function(e){return Object.prototype.hasOwnProperty.call(this.symbols,e)}},{key:"isOperator",value:function(e){return Object.prototype.hasOwnProperty.call(this.operators,e)}},{key:"isConstant",value:function(e){return Object.prototype.hasOwnProperty.call(this.constants,e)}},{key:"isNumber",value:function(e){return this.numbers.test(e)}},{key:"isOpenParenthesis",value:function(e){return e===this.openParenthesis}},{key:"isCloseParenthesis",value:function(e){return e===this.closeParenthesis}},{key:"isWhitespace",value:function(e){return this.whitespace.test(e)}},{key:"topOperatorHasPrecedence",value:function(e,t){if(!e.length)return!1;var r=e[e.length-1];if(!this.isOperator(r))return!1;var n=this.operators[r];return!(1===t.method.length&&n.method.length>1)&&(n.hasGreaterPrecedence(t)||n.hasEqualPrecedence(t)&&n.isLeftAssociative())}},{key:"determineOperator",value:function(e,t){var r;return void 0===t||this.isOpenParenthesis(t)||this.isSymbol(t)?r="prefix":(this.isCloseParenthesis(t)||this.isNumber(t)||this.isConstant(t))&&(r="infix"),this.operators[this.symbols[e][r]]}},{key:"parse",value:function(e){var t=this;if(!e.length)throw Error("No input");return(e.match(/(\d+\.\d*)|(\d*\.\d+)|(\d+)|([a-zA-Z]+)|(.)/g)||[]).filter(function(e){return!t.isWhitespace(e)}).map(function(e){return e.toUpperCase()})}},{key:"convert",value:function(e){var t=this;if(!e.length)throw Error("No valid tokens");var r=[],n=[];for(e.forEach(function(o,i){if(t.isNumber(o))n.push(parseFloat(o));else if(t.isConstant(o))n.push(t.constants[o].name);else if(t.isSymbol(o)){var u=t.determineOperator(o,e[i-1]);if(void 0===u)throw Error("Misused operator: ".concat(o));for(;t.topOperatorHasPrecedence(r,u);)n.push(r.pop());r.push(u.name)}else if(t.isOpenParenthesis(o))r.push(o);else{if(!t.isCloseParenthesis(o))throw Error("Invalid token: ".concat(o));for(;!t.isOpenParenthesis(r[r.length-1]);){if(!r.length)throw Error("Mismatched parentheses");n.push(r.pop())}r.pop()}});r.length;){var o=r[r.length-1];if(this.isOpenParenthesis(o)||this.isCloseParenthesis(o))throw Error("Mismatched parentheses");n.push(r.pop())}return n}},{key:"resolve",value:function(e){var t=this;if(!e.length)throw Error("No operations");var r=[];if(e.forEach(function(e){if(t.isNumber(e))r.push(e);else if(t.isConstant(e))r.push(t.constants[e].value);else{var n=t.operators[e];if(r.length<n.method.length)throw Error("Missing operand");if("DIV"===n.name&&0===r[1])throw Error("Division by zero");var o=n.method.apply(n,s(r.splice(-n.method.length)));r.push(o)}}),r.length>1)throw Error("Missing operator");var o=r[0];return(0,n.default)(o,8)}},{key:"evaluate",value:function(e){try{var t=this.parse(e),r=this.convert(t);return this.resolve(r)}catch(e){throw e}}}])&&a(t.prototype,r),u&&a(t,u),e}();t.default=f,e.exports=t.default},function(e,t,r){(function(t){var r=1/0,n=1.7976931348623157e308,o=NaN,i="[object Symbol]",u=/^\s+|\s+$/g,s=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,f=/^0o[0-7]+$/i,c=parseInt,l="object"==typeof t&&t&&t.Object===Object&&t,p="object"==typeof self&&self&&self.Object===Object&&self,h=l||p||Function("return this")(),d=Object.prototype.toString,v=h.Symbol,y=Math.min,b=v?v.prototype:void 0,m=b?b.toString:void 0;function O(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function P(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&d.call(e)==i}function w(e){if("number"==typeof e)return e;if(P(e))return o;if(O(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=O(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(u,"");var r=a.test(e);return r||f.test(e)?c(e.slice(2),r?2:8):s.test(e)?o:+e}function g(e){return null==e?"":function(e){if("string"==typeof e)return e;if(P(e))return m?m.call(e):"";var t=e+"";return"0"==t&&1/e==-r?"-0":t}(e)}var j,E=(j=Math["round"],function(e,t){if(e=w(e),t=y(function(e){var t=function(e){if(!e)return 0===e?e:0;if((e=w(e))===r||e===-r){var t=e<0?-1:1;return t*n}return e==e?e:0}(e),o=t%1;return t==t?o?t-o:t:0}(t),292)){var o=(g(e)+"e").split("e");return+((o=(g(j(o[0]+"e"+(+o[1]+t)))+"e").split("e"))[0]+"e"+(+o[1]-t))}return j(e)});e.exports=E}).call(this,r(5))},function(e,t){var r;r=function(){return this}();try{r=r||new Function("return this")()}catch(e){"object"==typeof window&&(r=window)}e.exports=r}])});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ldmFsdWF0b3Ivd2VicGFjay91bml2ZXJzYWxNb2R1bGVEZWZpbml0aW9uIiwid2VicGFjazovL2V2YWx1YXRvci93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly9ldmFsdWF0b3IvLi9zcmMvY29uc3RhbnQuanMiLCJ3ZWJwYWNrOi8vZXZhbHVhdG9yLy4vc3JjL29wZXJhdG9yLmpzIiwid2VicGFjazovL2V2YWx1YXRvci8uL3NyYy9pbmRleC5qcyIsIndlYnBhY2s6Ly9ldmFsdWF0b3IvLi9zcmMvZXZhbHVhdG9yLmpzIiwid2VicGFjazovL2V2YWx1YXRvci8uL25vZGVfbW9kdWxlcy9sb2Rhc2gucm91bmQvaW5kZXguanMiLCJ3ZWJwYWNrOi8vZXZhbHVhdG9yLyh3ZWJwYWNrKS9idWlsZGluL2dsb2JhbC5qcyJdLCJuYW1lcyI6WyJyb290IiwiZmFjdG9yeSIsImV4cG9ydHMiLCJtb2R1bGUiLCJkZWZpbmUiLCJhbWQiLCJzZWxmIiwidGhpcyIsImluc3RhbGxlZE1vZHVsZXMiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJpIiwibCIsIm1vZHVsZXMiLCJjYWxsIiwibSIsImMiLCJkIiwibmFtZSIsImdldHRlciIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJyIiwiU3ltYm9sIiwidG9TdHJpbmdUYWciLCJ2YWx1ZSIsInQiLCJtb2RlIiwiX19lc01vZHVsZSIsIm5zIiwiY3JlYXRlIiwia2V5IiwiYmluZCIsIm4iLCJvYmplY3QiLCJwcm9wZXJ0eSIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwicCIsInMiLCJDb25zdGFudCIsIl9jbGFzc0NhbGxDaGVjayIsIk9wZXJhdG9yIiwicHJlY2VkZW5jZSIsImFzc29jaWF0aXZpdHkiLCJtZXRob2QiLCJvcGVyYXRvciIsIl9jb25zdGFudCIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJfZXZhbHVhdG9yIiwiX29wZXJhdG9yIiwiX2xvZGFzaCIsIkV2YWx1YXRvciIsInN5bWJvbHMiLCJeIiwiaW5maXgiLCIqIiwiLyIsIiUiLCIrIiwicHJlZml4IiwiLSIsIm9wZXJhdG9ycyIsIkVYUCIsImRlZmF1bHQiLCJhIiwiYiIsIk1hdGgiLCJwb3ciLCJQT1MiLCJORUciLCJNVUwiLCJESVYiLCJNT0QiLCJBREQiLCJTVUIiLCJjb25zdGFudHMiLCJFIiwiUEkiLCJudW1iZXJzIiwib3BlblBhcmVudGhlc2lzIiwiY2xvc2VQYXJlbnRoZXNpcyIsIndoaXRlc3BhY2UiLCJ0b2tlbiIsInRlc3QiLCJvcGVyYXRvclN0YWNrIiwiY3VycmVudE9wZXJhdG9yIiwibGVuZ3RoIiwidG9wVG9rZW4iLCJpc09wZXJhdG9yIiwidG9wT3BlcmF0b3IiLCJoYXNHcmVhdGVyUHJlY2VkZW5jZSIsImhhc0VxdWFsUHJlY2VkZW5jZSIsImlzTGVmdEFzc29jaWF0aXZlIiwicHJldmlvdXNUb2tlbiIsIm5vdGF0aW9uIiwidW5kZWZpbmVkIiwiaXNPcGVuUGFyZW50aGVzaXMiLCJpc1N5bWJvbCIsImlzQ2xvc2VQYXJlbnRoZXNpcyIsImlzTnVtYmVyIiwiaXNDb25zdGFudCIsInN0cmluZyIsIl90aGlzIiwiRXJyb3IiLCJtYXRjaCIsImZpbHRlciIsImlzV2hpdGVzcGFjZSIsIm1hcCIsInRvVXBwZXJDYXNlIiwiaW5maXhFeHByZXNzaW9uIiwiX3RoaXMyIiwicG9zdGZpeEV4cHJlc3Npb24iLCJmb3JFYWNoIiwiaW5kZXgiLCJwdXNoIiwicGFyc2VGbG9hdCIsImRldGVybWluZU9wZXJhdG9yIiwiY29uY2F0IiwidG9wT3BlcmF0b3JIYXNQcmVjZWRlbmNlIiwicG9wIiwiX3RoaXMzIiwiZXZhbHVhdGlvblN0YWNrIiwicmVzdWx0IiwiYXBwbHkiLCJfdG9Db25zdW1hYmxlQXJyYXkiLCJzcGxpY2UiLCJyZWR1Y3Rpb24iLCJwYXJzZSIsImNvbnZlcnQiLCJyZXNvbHZlIiwiZXJyb3IiLCJnbG9iYWwiLCJJTkZJTklUWSIsIk1BWF9JTlRFR0VSIiwiTkFOIiwic3ltYm9sVGFnIiwicmVUcmltIiwicmVJc0JhZEhleCIsInJlSXNCaW5hcnkiLCJyZUlzT2N0YWwiLCJmcmVlUGFyc2VJbnQiLCJwYXJzZUludCIsImZyZWVHbG9iYWwiLCJmcmVlU2VsZiIsIkZ1bmN0aW9uIiwib2JqZWN0VG9TdHJpbmciLCJ0b1N0cmluZyIsIm5hdGl2ZU1pbiIsIm1pbiIsInN5bWJvbFByb3RvIiwic3ltYm9sVG9TdHJpbmciLCJpc09iamVjdCIsInR5cGUiLCJpc09iamVjdExpa2UiLCJ0b051bWJlciIsIm90aGVyIiwidmFsdWVPZiIsInJlcGxhY2UiLCJpc0JpbmFyeSIsInNsaWNlIiwiYmFzZVRvU3RyaW5nIiwiZnVuYyIsInJvdW5kIiwibnVtYmVyIiwicHJlY2lzaW9uIiwic2lnbiIsInRvRmluaXRlIiwicmVtYWluZGVyIiwidG9JbnRlZ2VyIiwicGFpciIsInNwbGl0IiwiZyIsImUiLCJ3aW5kb3ciXSwibWFwcGluZ3MiOiJDQUFBLFNBQUFBLEVBQUFDLEdBQ0EsaUJBQUFDLFNBQUEsaUJBQUFDLE9BQ0FBLE9BQUFELFFBQUFELElBQ0EsbUJBQUFHLGVBQUFDLElBQ0FELE9BQUEsZUFBQUgsR0FDQSxpQkFBQUMsUUFDQUEsUUFBQSxVQUFBRCxJQUVBRCxFQUFBLFVBQUFDLElBUkEsQ0FTQyxvQkFBQUssVUFBQUMsS0FBQSxXQUNELG1CQ1RBLElBQUFDLEVBQUEsR0FHQSxTQUFBQyxFQUFBQyxHQUdBLEdBQUFGLEVBQUFFLEdBQ0EsT0FBQUYsRUFBQUUsR0FBQVIsUUFHQSxJQUFBQyxFQUFBSyxFQUFBRSxHQUFBLENBQ0FDLEVBQUFELEVBQ0FFLEdBQUEsRUFDQVYsUUFBQSxJQVVBLE9BTkFXLEVBQUFILEdBQUFJLEtBQUFYLEVBQUFELFFBQUFDLElBQUFELFFBQUFPLEdBR0FOLEVBQUFTLEdBQUEsRUFHQVQsRUFBQUQsUUEwREEsT0FyREFPLEVBQUFNLEVBQUFGLEVBR0FKLEVBQUFPLEVBQUFSLEVBR0FDLEVBQUFRLEVBQUEsU0FB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QkE4SSxDQUFBOUksR0FDQStJLEVBQUE3QyxFQUFBLEVBRUEsT0FBQUEsS0FBQTZDLEVBQUE3QyxFQUFBNkMsRUFBQTdDLEVBQUEsRUEvSkE4QyxDQUFBSixHQUFBLEtBQ0EsQ0FHQSxJQUFBSyxHQUFBdkIsRUFBQWlCLEdBQUEsS0FBQU8sTUFBQSxLQUlBLFNBREFELEdBQUF2QixFQUZBZSxFQUFBUSxFQUFBLFNBQUFBLEVBQUEsR0FBQUwsS0FFQSxLQUFBTSxNQUFBLE1BQ0EsU0FBQUQsRUFBQSxHQUFBTCxJQUVBLE9BQUFILEVBQUFFLEtBb1BBcEssRUFBQUQsUUFBQW9LLG1DQzFWQSxJQUFBUyxFQUdBQSxFQUFBLFdBQ0EsT0FBQXhLLEtBREEsR0FJQSxJQUVBd0ssS0FBQSxJQUFBM0IsU0FBQSxpQkFDQyxNQUFBNEIsR0FFRCxpQkFBQUMsU0FBQUYsRUFBQUUsUUFPQTlLLEVBQUFELFFBQUE2SyIsImZpbGUiOiJldmFsdWF0b3IubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uIHdlYnBhY2tVbml2ZXJzYWxNb2R1bGVEZWZpbml0aW9uKHJvb3QsIGZhY3RvcnkpIHtcblx0aWYodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnICYmIHR5cGVvZiBtb2R1bGUgPT09ICdvYmplY3QnKVxuXHRcdG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeSgpO1xuXHRlbHNlIGlmKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZClcblx0XHRkZWZpbmUoXCJldmFsdWF0b3JcIiwgW10sIGZhY3RvcnkpO1xuXHRlbHNlIGlmKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0Jylcblx0XHRleHBvcnRzW1wiZXZhbHVhdG9yXCJdID0gZmFjdG9yeSgpO1xuXHRlbHNlXG5cdFx0cm9vdFtcImV2YWx1YXRvclwiXSA9IGZhY3RvcnkoKTtcbn0pKHR5cGVvZiBzZWxmICE9PSAndW5kZWZpbmVkJyA/IHNlbGYgOiB0aGlzLCBmdW5jdGlvbigpIHtcbnJldHVybiAiLCIgXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuIFx0XHR9XG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBnZXR0ZXIgfSk7XG4gXHRcdH1cbiBcdH07XG5cbiBcdC8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uciA9IGZ1bmN0aW9uKGV4cG9ydHMpIHtcbiBcdFx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG4gXHRcdH1cbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbiBcdH07XG5cbiBcdC8vIGNyZWF0ZSBhIGZha2UgbmFtZXNwYWNlIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDE6IHZhbHVlIGlzIGEgbW9kdWxlIGlkLCByZXF1aXJlIGl0XG4gXHQvLyBtb2RlICYgMjogbWVyZ2UgYWxsIHByb3BlcnRpZXMgb2YgdmFsdWUgaW50byB0aGUgbnNcbiBcdC8vIG1vZGUgJiA0OiByZXR1cm4gdmFsdWUgd2hlbiBhbHJlYWR5IG5zIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDh8MTogYmVoYXZlIGxpa2UgcmVxdWlyZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy50ID0gZnVuY3Rpb24odmFsdWUsIG1vZGUpIHtcbiBcdFx0aWYobW9kZSAmIDEpIHZhbHVlID0gX193ZWJwYWNrX3JlcXVpcmVfXyh2YWx1ZSk7XG4gXHRcdGlmKG1vZGUgJiA4KSByZXR1cm4gdmFsdWU7XG4gXHRcdGlmKChtb2RlICYgNCkgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZSAmJiB2YWx1ZS5fX2VzTW9kdWxlKSByZXR1cm4gdmFsdWU7XG4gXHRcdHZhciBucyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18ucihucyk7XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShucywgJ2RlZmF1bHQnLCB7IGVudW1lcmFibGU6IHRydWUsIHZhbHVlOiB2YWx1ZSB9KTtcbiBcdFx0aWYobW9kZSAmIDIgJiYgdHlwZW9mIHZhbHVlICE9ICdzdHJpbmcnKSBmb3IodmFyIGtleSBpbiB2YWx1ZSkgX193ZWJwYWNrX3JlcXVpcmVfXy5kKG5zLCBrZXksIGZ1bmN0aW9uKGtleSkgeyByZXR1cm4gdmFsdWVba2V5XTsgfS5iaW5kKG51bGwsIGtleSkpO1xuIFx0XHRyZXR1cm4gbnM7XG4gXHR9O1xuXG4gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuIFx0XHRyZXR1cm4gZ2V0dGVyO1xuIFx0fTtcblxuIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuXG5cbiBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gMik7XG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBDb25zdGFudCB7XG5cdGNvbnN0cnVjdG9yKG5hbWUsIHZhbHVlKSB7XG5cdFx0dGhpcy5uYW1lID0gbmFtZTtcblx0XHR0aGlzLnZhbHVlID0gdmFsdWU7XG5cdH1cbn1cbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIE9wZXJhdG9yIHtcblx0Y29uc3RydWN0b3IobmFtZSwgcHJlY2VkZW5jZSwgYXNzb2NpYXRpdml0eSwgbWV0aG9kKSB7XG5cdFx0dGhpcy5uYW1lID0gbmFtZTtcblx0XHR0aGlzLnByZWNlZGVuY2UgPSBwcmVjZWRlbmNlO1xuXHRcdHRoaXMuYXNzb2NpYXRpdml0eSA9IGFzc29jaWF0aXZpdHk7XG5cdFx0dGhpcy5tZXRob2QgPSBtZXRob2Q7XG5cdH1cblxuXHRoYXNFcXVhbFByZWNlZGVuY2Uob3BlcmF0b3IpIHtcblx0XHRyZXR1cm4gdGhpcy5wcmVjZWRlbmNlID09PSBvcGVyYXRvci5wcmVjZWRlbmNlO1xuXHR9XG5cblx0aGFzR3JlYXRlclByZWNlZGVuY2Uob3BlcmF0b3IpIHtcblx0XHRyZXR1cm4gdGhpcy5wcmVjZWRlbmNlID4gb3BlcmF0b3IucHJlY2VkZW5jZTtcblx0fVxuXG5cdGlzTGVmdEFzc29jaWF0aXZlKCkge1xuXHRcdHJldHVybiB0aGlzLmFzc29jaWF0aXZpdHkgPT09ICdsZWZ0Jztcblx0fVxufVxuIiwiaW1wb3J0IENvbnN0YW50IGZyb20gJy4vY29uc3RhbnQnO1xuaW1wb3J0IEV2YWx1YXRvciBmcm9tICcuL2V2YWx1YXRvcic7XG5pbXBvcnQgT3BlcmF0b3IgZnJvbSAnLi9vcGVyYXRvcic7XG5cbmV4cG9ydCB7Q29uc3RhbnQsIEV2YWx1YXRvciwgT3BlcmF0b3J9O1xuIiwiaW1wb3J0IHJvdW5kIGZyb20gJ2xvZGFzaC5yb3VuZCc7XG5pbXBvcnQgQ29uc3RhbnQgZnJvbSAnLi9jb25zdGFudCc7XG5pbXBvcnQgT3BlcmF0b3IgZnJvbSAnLi9vcGVyYXRvcic7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEV2YWx1YXRvciB7XG5cdGNvbnN0cnVjdG9yKCkge1xuXHRcdHRoaXMuc3ltYm9scyA9IHtcblx0XHRcdCdeJzoge2luZml4OiAnRVhQJ30sXG5cdFx0XHQnKic6IHtpbmZpeDogJ01VTCd9LFxuXHRcdFx0Jy8nOiB7aW5maXg6ICdESVYnfSxcblx0XHRcdCclJzoge2luZml4OiAnTU9EJ30sXG5cdFx0XHQnKyc6IHtpbmZpeDogJ0FERCcsIHByZWZpeDogJ1BPUyd9LFxuXHRcdFx0Jy0nOiB7aW5maXg6ICdTVUInLCBwcmVmaXg6ICdORUcnfSxcblx0XHR9O1xuXG5cdFx0dGhpcy5vcGVyYXRvcnMgPSB7XG5cdFx0XHQnRVhQJzogbmV3IE9wZXJhdG9yKCdFWFAnLCA0LCAncmlnaHQnLCAoYSwgYikgPT4gYSAqKiBiKSxcblx0XHRcdCdQT1MnOiBuZXcgT3BlcmF0b3IoJ1BPUycsIDMsICdyaWdodCcsIChhKSA9PiBhKSxcblx0XHRcdCdORUcnOiBuZXcgT3BlcmF0b3IoJ05FRycsIDMsICdyaWdodCcsIChhKSA9PiAtYSksXG5cdFx0XHQnTVVMJzogbmV3IE9wZXJhdG9yKCdNVUwnLCAyLCAnbGVmdCcsIChhLCBiKSA9PiBhICogYiksXG5cdFx0XHQnRElWJzogbmV3IE9wZXJhdG9yKCdESVYnLCAyLCAnbGVmdCcsIChhLCBiKSA9PiBhIC8gYiksXG5cdFx0XHQnTU9EJzogbmV3IE9wZXJhdG9yKCdNT0QnLCAyLCAnbGVmdCcsIChhLCBiKSA9PiBhICUgYiksXG5cdFx0XHQnQUREJzogbmV3IE9wZXJhdG9yKCdBREQnLCAxLCAnbGVmdCcsIChhLCBiKSA9PiBhICsgYiksXG5cdFx0XHQnU1VCJzogbmV3IE9wZXJhdG9yKCdTVUInLCAxLCAnbGVmdCcsIChhLCBiKSA9PiBhIC0gYiksXG5cdFx0fTtcblxuXHRcdHRoaXMuY29uc3RhbnRzID0ge1xuXHRcdFx0J0UnOiBuZXcgQ29uc3RhbnQoJ0UnLCBNYXRoLkUpLFxuXHRcdFx0J1BJJzogbmV3IENvbnN0YW50KCdQSScsIE1hdGguUEkpLFxuXHRcdH07XG5cblx0XHR0aGlzLm51bWJlcnMgPSAvKFxcZCtcXC5cXGQqKXwoXFxkKlxcLlxcZCspfChcXGQrKS87XG5cblx0XHR0aGlzLm9wZW5QYXJlbnRoZXNpcyA9ICcoJztcblxuXHRcdHRoaXMuY2xvc2VQYXJlbnRoZXNpcyA9ICcpJztcblxuXHRcdHRoaXMud2hpdGVzcGFjZSA9IC9cXHMvO1xuXHR9XG5cblx0aXNTeW1ib2wodG9rZW4pIHtcblx0XHRyZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHRoaXMuc3ltYm9scywgdG9rZW4pO1xuXHR9XG5cblx0aXNPcGVyYXRvcih0b2tlbikge1xuXHRcdHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodGhpcy5vcGVyYXRvcnMsIHRva2VuKTtcblx0fVxuXG5cdGlzQ29uc3RhbnQodG9rZW4pIHtcblx0XHRyZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHRoaXMuY29uc3RhbnRzLCB0b2tlbik7XG5cdH1cblxuXHRpc051bWJlcih0b2tlbikge1xuXHRcdHJldHVybiB0aGlzLm51bWJlcnMudGVzdCh0b2tlbik7XG5cdH1cblxuXHRpc09wZW5QYXJlbnRoZXNpcyh0b2tlbikge1xuXHRcdHJldHVybiB0b2tlbiA9PT0gdGhpcy5vcGVuUGFyZW50aGVzaXM7XG5cdH1cblxuXHRpc0Nsb3NlUGFyZW50aGVzaXModG9rZW4pIHtcblx0XHRyZXR1cm4gdG9rZW4gPT09IHRoaXMuY2xvc2VQYXJlbnRoZXNpcztcblx0fVxuXG5cdGlzV2hpdGVzcGFjZSh0b2tlbikge1xuXHRcdHJldHVybiB0aGlzLndoaXRlc3BhY2UudGVzdCh0b2tlbik7XG5cdH1cblxuXHR0b3BPcGVyYXRvckhhc1ByZWNlZGVuY2Uob3BlcmF0b3JTdGFjaywgY3VycmVudE9wZXJhdG9yKSB7XG5cdFx0aWYgKCFvcGVyYXRvclN0YWNrLmxlbmd0aCkgcmV0dXJuIGZhbHNlO1xuXG5cdFx0Y29uc3QgdG9wVG9rZW4gPSBvcGVyYXRvclN0YWNrW29wZXJhdG9yU3RhY2subGVuZ3RoIC0gMV07XG5cblx0XHRpZiAoIXRoaXMuaXNPcGVyYXRvcih0b3BUb2tlbikpIHJldHVybiBmYWxzZTtcblxuXHRcdGNvbnN0IHRvcE9wZXJhdG9yID0gdGhpcy5vcGVyYXRvcnNbdG9wVG9rZW5dO1xuXG5cdFx0aWYgKGN1cnJlbnRPcGVyYXRvci5tZXRob2QubGVuZ3RoID09PSAxICYmIHRvcE9wZXJhdG9yLm1ldGhvZC5sZW5ndGggPiAxKSByZXR1cm4gZmFsc2U7XG5cblx0XHRyZXR1cm4gKFxuXHRcdFx0dG9wT3BlcmF0b3IuaGFzR3JlYXRlclByZWNlZGVuY2UoY3VycmVudE9wZXJhdG9yKVxuXHRcdFx0fHwgKHRvcE9wZXJhdG9yLmhhc0VxdWFsUHJlY2VkZW5jZShjdXJyZW50T3BlcmF0b3IpICYmIHRvcE9wZXJhdG9yLmlzTGVmdEFzc29jaWF0aXZlKCkpXG5cdFx0KTtcblx0fVxuXG5cdGRldGVybWluZU9wZXJhdG9yKHRva2VuLCBwcmV2aW91c1Rva2VuKSB7XG5cdFx0bGV0IG5vdGF0aW9uO1xuXG5cdFx0aWYgKFxuXHRcdFx0cHJldmlvdXNUb2tlbiA9PT0gdW5kZWZpbmVkXG5cdFx0XHR8fCB0aGlzLmlzT3BlblBhcmVudGhlc2lzKHByZXZpb3VzVG9rZW4pXG5cdFx0XHR8fCB0aGlzLmlzU3ltYm9sKHByZXZpb3VzVG9rZW4pXG5cdFx0KSB7XG5cdFx0XHRub3RhdGlvbiA9ICdwcmVmaXgnO1xuXHRcdH0gZWxzZSBpZiAoXG5cdFx0XHR0aGlzLmlzQ2xvc2VQYXJlbnRoZXNpcyhwcmV2aW91c1Rva2VuKVxuXHRcdFx0fHwgKHRoaXMuaXNOdW1iZXIocHJldmlvdXNUb2tlbilcblx0XHRcdHx8IHRoaXMuaXNDb25zdGFudChwcmV2aW91c1Rva2VuKSlcblx0XHQpIHtcblx0XHRcdG5vdGF0aW9uID0gJ2luZml4Jztcblx0XHR9XG5cblx0XHRyZXR1cm4gdGhpcy5vcGVyYXRvcnNbdGhpcy5zeW1ib2xzW3Rva2VuXVtub3RhdGlvbl1dO1xuXHR9XG5cblx0cGFyc2Uoc3RyaW5nKSB7XG5cdFx0aWYgKCFzdHJpbmcubGVuZ3RoKSB7XG5cdFx0XHR0aHJvdyBFcnJvcignTm8gaW5wdXQnKTtcblx0XHR9XG5cblx0XHRjb25zdCBwYXR0ZXJuID0gLyhcXGQrXFwuXFxkKil8KFxcZCpcXC5cXGQrKXwoXFxkKyl8KFthLXpBLVpdKyl8KC4pL2c7XG5cdFx0Y29uc3QgaW5maXhFeHByZXNzaW9uID0gKHN0cmluZy5tYXRjaChwYXR0ZXJuKSB8fCBbXSlcblx0XHRcdC5maWx0ZXIoKHRva2VuKSA9PiAhdGhpcy5pc1doaXRlc3BhY2UodG9rZW4pKVxuXHRcdFx0Lm1hcCgodG9rZW4pID0+IHRva2VuLnRvVXBwZXJDYXNlKCkpO1xuXG5cdFx0cmV0dXJuIGluZml4RXhwcmVzc2lvbjtcblx0fVxuXG5cdGNvbnZlcnQoaW5maXhFeHByZXNzaW9uKSB7XG5cdFx0aWYgKCFpbmZpeEV4cHJlc3Npb24ubGVuZ3RoKSB7XG5cdFx0XHR0aHJvdyBFcnJvcignTm8gdmFsaWQgdG9rZW5zJyk7XG5cdFx0fVxuXG5cdFx0Y29uc3Qgb3BlcmF0b3JTdGFjayA9IFtdO1xuXHRcdGNvbnN0IHBvc3RmaXhFeHByZXNzaW9uID0gW107XG5cblx0XHRpbmZpeEV4cHJlc3Npb24uZm9yRWFjaCgodG9rZW4sIGluZGV4KSA9PiB7XG5cdFx0XHRpZiAodGhpcy5pc051bWJlcih0b2tlbikpIHtcblx0XHRcdFx0cG9zdGZpeEV4cHJlc3Npb24ucHVzaChwYXJzZUZsb2F0KHRva2VuKSk7XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblxuXHRcdFx0aWYgKHRoaXMuaXNDb25zdGFudCh0b2tlbikpIHtcblx0XHRcdFx0cG9zdGZpeEV4cHJlc3Npb24ucHVzaCh0aGlzLmNvbnN0YW50c1t0b2tlbl0ubmFtZSk7XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblxuXHRcdFx0aWYgKHRoaXMuaXNTeW1ib2wodG9rZW4pKSB7XG5cdFx0XHRcdGNvbnN0IG9wZXJhdG9yID0gdGhpcy5kZXRlcm1pbmVPcGVyYXRvcih0b2tlbiwgaW5maXhFeHByZXNzaW9uW2luZGV4IC0gMV0pO1xuXG5cdFx0XHRcdGlmIChvcGVyYXRvciA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRcdFx0dGhyb3cgRXJyb3IoYE1pc3VzZWQgb3BlcmF0b3I6ICR7dG9rZW59YCk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHR3aGlsZSAodGhpcy50b3BPcGVyYXRvckhhc1ByZWNlZGVuY2Uob3BlcmF0b3JTdGFjaywgb3BlcmF0b3IpKSB7XG5cdFx0XHRcdFx0cG9zdGZpeEV4cHJlc3Npb24ucHVzaChvcGVyYXRvclN0YWNrLnBvcCgpKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdG9wZXJhdG9yU3RhY2sucHVzaChvcGVyYXRvci5uYW1lKTtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAodGhpcy5pc09wZW5QYXJlbnRoZXNpcyh0b2tlbikpIHtcblx0XHRcdFx0b3BlcmF0b3JTdGFjay5wdXNoKHRva2VuKTtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAodGhpcy5pc0Nsb3NlUGFyZW50aGVzaXModG9rZW4pKSB7XG5cdFx0XHRcdHdoaWxlICghdGhpcy5pc09wZW5QYXJlbnRoZXNpcyhvcGVyYXRvclN0YWNrW29wZXJhdG9yU3RhY2subGVuZ3RoIC0gMV0pKSB7XG5cdFx0XHRcdFx0aWYgKCFvcGVyYXRvclN0YWNrLmxlbmd0aCkge1xuXHRcdFx0XHRcdFx0dGhyb3cgRXJyb3IoJ01pc21hdGNoZWQgcGFyZW50aGVzZXMnKTtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRwb3N0Zml4RXhwcmVzc2lvbi5wdXNoKG9wZXJhdG9yU3RhY2sucG9wKCkpO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0b3BlcmF0b3JTdGFjay5wb3AoKTtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXG5cdFx0XHR0aHJvdyBFcnJvcihgSW52YWxpZCB0b2tlbjogJHt0b2tlbn1gKTtcblx0XHR9KTtcblxuXHRcdHdoaWxlIChvcGVyYXRvclN0YWNrLmxlbmd0aCkge1xuXHRcdFx0Y29uc3Qgb3BlcmF0b3IgPSBvcGVyYXRvclN0YWNrW29wZXJhdG9yU3RhY2subGVuZ3RoIC0gMV07XG5cblx0XHRcdGlmICh0aGlzLmlzT3BlblBhcmVudGhlc2lzKG9wZXJhdG9yKSB8fCB0aGlzLmlzQ2xvc2VQYXJlbnRoZXNpcyhvcGVyYXRvcikpIHtcblx0XHRcdFx0dGhyb3cgRXJyb3IoJ01pc21hdGNoZWQgcGFyZW50aGVzZXMnKTtcblx0XHRcdH1cblxuXHRcdFx0cG9zdGZpeEV4cHJlc3Npb24ucHVzaChvcGVyYXRvclN0YWNrLnBvcCgpKTtcblx0XHR9XG5cblx0XHRyZXR1cm4gcG9zdGZpeEV4cHJlc3Npb247XG5cdH1cblxuXHRyZXNvbHZlKHBvc3RmaXhFeHByZXNzaW9uKSB7XG5cdFx0aWYgKCFwb3N0Zml4RXhwcmVzc2lvbi5sZW5ndGgpIHtcblx0XHRcdHRocm93IEVycm9yKCdObyBvcGVyYXRpb25zJyk7XG5cdFx0fVxuXG5cdFx0Y29uc3QgZXZhbHVhdGlvblN0YWNrID0gW107XG5cblx0XHRwb3N0Zml4RXhwcmVzc2lvbi5mb3JFYWNoKCh0b2tlbikgPT4ge1xuXHRcdFx0aWYgKHRoaXMuaXNOdW1iZXIodG9rZW4pKSB7XG5cdFx0XHRcdGV2YWx1YXRpb25TdGFjay5wdXNoKHRva2VuKTtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAodGhpcy5pc0NvbnN0YW50KHRva2VuKSkge1xuXHRcdFx0XHRldmFsdWF0aW9uU3RhY2sucHVzaCh0aGlzLmNvbnN0YW50c1t0b2tlbl0udmFsdWUpO1xuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHR9XG5cblx0XHRcdGNvbnN0IG9wZXJhdG9yID0gdGhpcy5vcGVyYXRvcnNbdG9rZW5dO1xuXG5cdFx0XHRpZiAoZXZhbHVhdGlvblN0YWNrLmxlbmd0aCA8IG9wZXJhdG9yLm1ldGhvZC5sZW5ndGgpIHtcblx0XHRcdFx0dGhyb3cgRXJyb3IoJ01pc3Npbmcgb3BlcmFuZCcpO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAob3BlcmF0b3IubmFtZSA9PT0gJ0RJVicgJiYgZXZhbHVhdGlvblN0YWNrWzFdID09PSAwKSB7XG5cdFx0XHRcdHRocm93IEVycm9yKCdEaXZpc2lvbiBieSB6ZXJvJyk7XG5cdFx0XHR9XG5cblx0XHRcdGNvbnN0IHJlc3VsdCA9IG9wZXJhdG9yLm1ldGhvZCguLi5ldmFsdWF0aW9uU3RhY2suc3BsaWNlKC1vcGVyYXRvci5tZXRob2QubGVuZ3RoKSk7XG5cdFx0XHRldmFsdWF0aW9uU3RhY2sucHVzaChyZXN1bHQpO1xuXHRcdH0pO1xuXG5cdFx0aWYgKGV2YWx1YXRpb25TdGFjay5sZW5ndGggPiAxKSB7XG5cdFx0XHR0aHJvdyBFcnJvcignTWlzc2luZyBvcGVyYXRvcicpO1xuXHRcdH1cblxuXHRcdGNvbnN0IHJlZHVjdGlvbiA9IGV2YWx1YXRpb25TdGFja1swXTtcblx0XHRjb25zdCByZXN1bHQgPSByb3VuZChyZWR1Y3Rpb24sIDgpO1xuXG5cdFx0cmV0dXJuIHJlc3VsdDtcblx0fVxuXG5cdGV2YWx1YXRlKHN0cmluZykge1xuXHRcdHRyeSB7XG5cdFx0XHRjb25zdCBpbmZpeEV4cHJlc3Npb24gPSB0aGlzLnBhcnNlKHN0cmluZyk7XG5cdFx0XHRjb25zdCBwb3N0Zml4RXhwcmVzc2lvbiA9IHRoaXMuY29udmVydChpbmZpeEV4cHJlc3Npb24pO1xuXHRcdFx0Y29uc3QgcmVzdWx0ID0gdGhpcy5yZXNvbHZlKHBvc3RmaXhFeHByZXNzaW9uKTtcblx0XHRcdHJldHVybiByZXN1bHQ7XG5cdFx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHRcdHRocm93IGVycm9yO1xuXHRcdH1cblx0fVxufVxuIiwiLyoqXG4gKiBsb2Rhc2ggKEN1c3RvbSBCdWlsZCkgPGh0dHBzOi8vbG9kYXNoLmNvbS8+XG4gKiBCdWlsZDogYGxvZGFzaCBtb2R1bGFyaXplIGV4cG9ydHM9XCJucG1cIiAtbyAuL2BcbiAqIENvcHlyaWdodCBqUXVlcnkgRm91bmRhdGlvbiBhbmQgb3RoZXIgY29udHJpYnV0b3JzIDxodHRwczovL2pxdWVyeS5vcmcvPlxuICogUmVsZWFzZWQgdW5kZXIgTUlUIGxpY2Vuc2UgPGh0dHBzOi8vbG9kYXNoLmNvbS9saWNlbnNlPlxuICogQmFzZWQgb24gVW5kZXJzY29yZS5qcyAxLjguMyA8aHR0cDovL3VuZGVyc2NvcmVqcy5vcmcvTElDRU5TRT5cbiAqIENvcHlyaWdodCBKZXJlbXkgQXNoa2VuYXMsIERvY3VtZW50Q2xvdWQgYW5kIEludmVzdGlnYXRpdmUgUmVwb3J0ZXJzICYgRWRpdG9yc1xuICovXG5cbi8qKiBVc2VkIGFzIHJlZmVyZW5jZXMgZm9yIHZhcmlvdXMgYE51bWJlcmAgY29uc3RhbnRzLiAqL1xudmFyIElORklOSVRZID0gMSAvIDAsXG4gICAgTUFYX0lOVEVHRVIgPSAxLjc5NzY5MzEzNDg2MjMxNTdlKzMwOCxcbiAgICBOQU4gPSAwIC8gMDtcblxuLyoqIGBPYmplY3QjdG9TdHJpbmdgIHJlc3VsdCByZWZlcmVuY2VzLiAqL1xudmFyIHN5bWJvbFRhZyA9ICdbb2JqZWN0IFN5bWJvbF0nO1xuXG4vKiogVXNlZCB0byBtYXRjaCBsZWFkaW5nIGFuZCB0cmFpbGluZyB3aGl0ZXNwYWNlLiAqL1xudmFyIHJlVHJpbSA9IC9eXFxzK3xcXHMrJC9nO1xuXG4vKiogVXNlZCB0byBkZXRlY3QgYmFkIHNpZ25lZCBoZXhhZGVjaW1hbCBzdHJpbmcgdmFsdWVzLiAqL1xudmFyIHJlSXNCYWRIZXggPSAvXlstK10weFswLTlhLWZdKyQvaTtcblxuLyoqIFVzZWQgdG8gZGV0ZWN0IGJpbmFyeSBzdHJpbmcgdmFsdWVzLiAqL1xudmFyIHJlSXNCaW5hcnkgPSAvXjBiWzAxXSskL2k7XG5cbi8qKiBVc2VkIHRvIGRldGVjdCBvY3RhbCBzdHJpbmcgdmFsdWVzLiAqL1xudmFyIHJlSXNPY3RhbCA9IC9eMG9bMC03XSskL2k7XG5cbi8qKiBCdWlsdC1pbiBtZXRob2QgcmVmZXJlbmNlcyB3aXRob3V0IGEgZGVwZW5kZW5jeSBvbiBgcm9vdGAuICovXG52YXIgZnJlZVBhcnNlSW50ID0gcGFyc2VJbnQ7XG5cbi8qKiBEZXRlY3QgZnJlZSB2YXJpYWJsZSBgZ2xvYmFsYCBmcm9tIE5vZGUuanMuICovXG52YXIgZnJlZUdsb2JhbCA9IHR5cGVvZiBnbG9iYWwgPT0gJ29iamVjdCcgJiYgZ2xvYmFsICYmIGdsb2JhbC5PYmplY3QgPT09IE9iamVjdCAmJiBnbG9iYWw7XG5cbi8qKiBEZXRlY3QgZnJlZSB2YXJpYWJsZSBgc2VsZmAuICovXG52YXIgZnJlZVNlbGYgPSB0eXBlb2Ygc2VsZiA9PSAnb2JqZWN0JyAmJiBzZWxmICYmIHNlbGYuT2JqZWN0ID09PSBPYmplY3QgJiYgc2VsZjtcblxuLyoqIFVzZWQgYXMgYSByZWZlcmVuY2UgdG8gdGhlIGdsb2JhbCBvYmplY3QuICovXG52YXIgcm9vdCA9IGZyZWVHbG9iYWwgfHwgZnJlZVNlbGYgfHwgRnVuY3Rpb24oJ3JldHVybiB0aGlzJykoKTtcblxuLyoqIFVzZWQgZm9yIGJ1aWx0LWluIG1ldGhvZCByZWZlcmVuY2VzLiAqL1xudmFyIG9iamVjdFByb3RvID0gT2JqZWN0LnByb3RvdHlwZTtcblxuLyoqXG4gKiBVc2VkIHRvIHJlc29sdmUgdGhlXG4gKiBbYHRvU3RyaW5nVGFnYF0oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtb2JqZWN0LnByb3RvdHlwZS50b3N0cmluZylcbiAqIG9mIHZhbHVlcy5cbiAqL1xudmFyIG9iamVjdFRvU3RyaW5nID0gb2JqZWN0UHJvdG8udG9TdHJpbmc7XG5cbi8qKiBCdWlsdC1pbiB2YWx1ZSByZWZlcmVuY2VzLiAqL1xudmFyIFN5bWJvbCA9IHJvb3QuU3ltYm9sO1xuXG4vKiBCdWlsdC1pbiBtZXRob2QgcmVmZXJlbmNlcyBmb3IgdGhvc2Ugd2l0aCB0aGUgc2FtZSBuYW1lIGFzIG90aGVyIGBsb2Rhc2hgIG1ldGhvZHMuICovXG52YXIgbmF0aXZlTWluID0gTWF0aC5taW47XG5cbi8qKiBVc2VkIHRvIGNvbnZlcnQgc3ltYm9scyB0byBwcmltaXRpdmVzIGFuZCBzdHJpbmdzLiAqL1xudmFyIHN5bWJvbFByb3RvID0gU3ltYm9sID8gU3ltYm9sLnByb3RvdHlwZSA6IHVuZGVmaW5lZCxcbiAgICBzeW1ib2xUb1N0cmluZyA9IHN5bWJvbFByb3RvID8gc3ltYm9sUHJvdG8udG9TdHJpbmcgOiB1bmRlZmluZWQ7XG5cbi8qKlxuICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8udG9TdHJpbmdgIHdoaWNoIGRvZXNuJ3QgY29udmVydCBudWxsaXNoXG4gKiB2YWx1ZXMgdG8gZW1wdHkgc3RyaW5ncy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gcHJvY2Vzcy5cbiAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIHN0cmluZy5cbiAqL1xuZnVuY3Rpb24gYmFzZVRvU3RyaW5nKHZhbHVlKSB7XG4gIC8vIEV4aXQgZWFybHkgZm9yIHN0cmluZ3MgdG8gYXZvaWQgYSBwZXJmb3JtYW5jZSBoaXQgaW4gc29tZSBlbnZpcm9ubWVudHMuXG4gIGlmICh0eXBlb2YgdmFsdWUgPT0gJ3N0cmluZycpIHtcbiAgICByZXR1cm4gdmFsdWU7XG4gIH1cbiAgaWYgKGlzU3ltYm9sKHZhbHVlKSkge1xuICAgIHJldHVybiBzeW1ib2xUb1N0cmluZyA/IHN5bWJvbFRvU3RyaW5nLmNhbGwodmFsdWUpIDogJyc7XG4gIH1cbiAgdmFyIHJlc3VsdCA9ICh2YWx1ZSArICcnKTtcbiAgcmV0dXJuIChyZXN1bHQgPT0gJzAnICYmICgxIC8gdmFsdWUpID09IC1JTkZJTklUWSkgPyAnLTAnIDogcmVzdWx0O1xufVxuXG4vKipcbiAqIENyZWF0ZXMgYSBmdW5jdGlvbiBsaWtlIGBfLnJvdW5kYC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtzdHJpbmd9IG1ldGhvZE5hbWUgVGhlIG5hbWUgb2YgdGhlIGBNYXRoYCBtZXRob2QgdG8gdXNlIHdoZW4gcm91bmRpbmcuXG4gKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyByb3VuZCBmdW5jdGlvbi5cbiAqL1xuZnVuY3Rpb24gY3JlYXRlUm91bmQobWV0aG9kTmFtZSkge1xuICB2YXIgZnVuYyA9IE1hdGhbbWV0aG9kTmFtZV07XG4gIHJldHVybiBmdW5jdGlvbihudW1iZXIsIHByZWNpc2lvbikge1xuICAgIG51bWJlciA9IHRvTnVtYmVyKG51bWJlcik7XG4gICAgcHJlY2lzaW9uID0gbmF0aXZlTWluKHRvSW50ZWdlcihwcmVjaXNpb24pLCAyOTIpO1xuICAgIGlmIChwcmVjaXNpb24pIHtcbiAgICAgIC8vIFNoaWZ0IHdpdGggZXhwb25lbnRpYWwgbm90YXRpb24gdG8gYXZvaWQgZmxvYXRpbmctcG9pbnQgaXNzdWVzLlxuICAgICAgLy8gU2VlIFtNRE5dKGh0dHBzOi8vbWRuLmlvL3JvdW5kI0V4YW1wbGVzKSBmb3IgbW9yZSBkZXRhaWxzLlxuICAgICAgdmFyIHBhaXIgPSAodG9TdHJpbmcobnVtYmVyKSArICdlJykuc3BsaXQoJ2UnKSxcbiAgICAgICAgICB2YWx1ZSA9IGZ1bmMocGFpclswXSArICdlJyArICgrcGFpclsxXSArIHByZWNpc2lvbikpO1xuXG4gICAgICBwYWlyID0gKHRvU3RyaW5nKHZhbHVlKSArICdlJykuc3BsaXQoJ2UnKTtcbiAgICAgIHJldHVybiArKHBhaXJbMF0gKyAnZScgKyAoK3BhaXJbMV0gLSBwcmVjaXNpb24pKTtcbiAgICB9XG4gICAgcmV0dXJuIGZ1bmMobnVtYmVyKTtcbiAgfTtcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyB0aGVcbiAqIFtsYW5ndWFnZSB0eXBlXShodHRwOi8vd3d3LmVjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtZWNtYXNjcmlwdC1sYW5ndWFnZS10eXBlcylcbiAqIG9mIGBPYmplY3RgLiAoZS5nLiBhcnJheXMsIGZ1bmN0aW9ucywgb2JqZWN0cywgcmVnZXhlcywgYG5ldyBOdW1iZXIoMClgLCBhbmQgYG5ldyBTdHJpbmcoJycpYClcbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDAuMS4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhbiBvYmplY3QsIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogXy5pc09iamVjdCh7fSk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc09iamVjdChbMSwgMiwgM10pO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNPYmplY3QoXy5ub29wKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzT2JqZWN0KG51bGwpO1xuICogLy8gPT4gZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNPYmplY3QodmFsdWUpIHtcbiAgdmFyIHR5cGUgPSB0eXBlb2YgdmFsdWU7XG4gIHJldHVybiAhIXZhbHVlICYmICh0eXBlID09ICdvYmplY3QnIHx8IHR5cGUgPT0gJ2Z1bmN0aW9uJyk7XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgb2JqZWN0LWxpa2UuIEEgdmFsdWUgaXMgb2JqZWN0LWxpa2UgaWYgaXQncyBub3QgYG51bGxgXG4gKiBhbmQgaGFzIGEgYHR5cGVvZmAgcmVzdWx0IG9mIFwib2JqZWN0XCIuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSA0LjAuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgb2JqZWN0LWxpa2UsIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogXy5pc09iamVjdExpa2Uoe30pO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNPYmplY3RMaWtlKFsxLCAyLCAzXSk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc09iamVjdExpa2UoXy5ub29wKTtcbiAqIC8vID0+IGZhbHNlXG4gKlxuICogXy5pc09iamVjdExpa2UobnVsbCk7XG4gKiAvLyA9PiBmYWxzZVxuICovXG5mdW5jdGlvbiBpc09iamVjdExpa2UodmFsdWUpIHtcbiAgcmV0dXJuICEhdmFsdWUgJiYgdHlwZW9mIHZhbHVlID09ICdvYmplY3QnO1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGNsYXNzaWZpZWQgYXMgYSBgU3ltYm9sYCBwcmltaXRpdmUgb3Igb2JqZWN0LlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgNC4wLjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgc3ltYm9sLCBlbHNlIGBmYWxzZWAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIF8uaXNTeW1ib2woU3ltYm9sLml0ZXJhdG9yKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzU3ltYm9sKCdhYmMnKTtcbiAqIC8vID0+IGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzU3ltYm9sKHZhbHVlKSB7XG4gIHJldHVybiB0eXBlb2YgdmFsdWUgPT0gJ3N5bWJvbCcgfHxcbiAgICAoaXNPYmplY3RMaWtlKHZhbHVlKSAmJiBvYmplY3RUb1N0cmluZy5jYWxsKHZhbHVlKSA9PSBzeW1ib2xUYWcpO1xufVxuXG4vKipcbiAqIENvbnZlcnRzIGB2YWx1ZWAgdG8gYSBmaW5pdGUgbnVtYmVyLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgNC4xMi4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY29udmVydC5cbiAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGNvbnZlcnRlZCBudW1iZXIuXG4gKiBAZXhhbXBsZVxuICpcbiAqIF8udG9GaW5pdGUoMy4yKTtcbiAqIC8vID0+IDMuMlxuICpcbiAqIF8udG9GaW5pdGUoTnVtYmVyLk1JTl9WQUxVRSk7XG4gKiAvLyA9PiA1ZS0zMjRcbiAqXG4gKiBfLnRvRmluaXRlKEluZmluaXR5KTtcbiAqIC8vID0+IDEuNzk3NjkzMTM0ODYyMzE1N2UrMzA4XG4gKlxuICogXy50b0Zpbml0ZSgnMy4yJyk7XG4gKiAvLyA9PiAzLjJcbiAqL1xuZnVuY3Rpb24gdG9GaW5pdGUodmFsdWUpIHtcbiAgaWYgKCF2YWx1ZSkge1xuICAgIHJldHVybiB2YWx1ZSA9PT0gMCA/IHZhbHVlIDogMDtcbiAgfVxuICB2YWx1ZSA9IHRvTnVtYmVyKHZhbHVlKTtcbiAgaWYgKHZhbHVlID09PSBJTkZJTklUWSB8fCB2YWx1ZSA9PT0gLUlORklOSVRZKSB7XG4gICAgdmFyIHNpZ24gPSAodmFsdWUgPCAwID8gLTEgOiAxKTtcbiAgICByZXR1cm4gc2lnbiAqIE1BWF9JTlRFR0VSO1xuICB9XG4gIHJldHVybiB2YWx1ZSA9PT0gdmFsdWUgPyB2YWx1ZSA6IDA7XG59XG5cbi8qKlxuICogQ29udmVydHMgYHZhbHVlYCB0byBhbiBpbnRlZ2VyLlxuICpcbiAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBpcyBsb29zZWx5IGJhc2VkIG9uXG4gKiBbYFRvSW50ZWdlcmBdKGh0dHA6Ly93d3cuZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy10b2ludGVnZXIpLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgNC4wLjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjb252ZXJ0LlxuICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgY29udmVydGVkIGludGVnZXIuXG4gKiBAZXhhbXBsZVxuICpcbiAqIF8udG9JbnRlZ2VyKDMuMik7XG4gKiAvLyA9PiAzXG4gKlxuICogXy50b0ludGVnZXIoTnVtYmVyLk1JTl9WQUxVRSk7XG4gKiAvLyA9PiAwXG4gKlxuICogXy50b0ludGVnZXIoSW5maW5pdHkpO1xuICogLy8gPT4gMS43OTc2OTMxMzQ4NjIzMTU3ZSszMDhcbiAqXG4gKiBfLnRvSW50ZWdlcignMy4yJyk7XG4gKiAvLyA9PiAzXG4gKi9cbmZ1bmN0aW9uIHRvSW50ZWdlcih2YWx1ZSkge1xuICB2YXIgcmVzdWx0ID0gdG9GaW5pdGUodmFsdWUpLFxuICAgICAgcmVtYWluZGVyID0gcmVzdWx0ICUgMTtcblxuICByZXR1cm4gcmVzdWx0ID09PSByZXN1bHQgPyAocmVtYWluZGVyID8gcmVzdWx0IC0gcmVtYWluZGVyIDogcmVzdWx0KSA6IDA7XG59XG5cbi8qKlxuICogQ29udmVydHMgYHZhbHVlYCB0byBhIG51bWJlci5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDQuMC4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gcHJvY2Vzcy5cbiAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIG51bWJlci5cbiAqIEBleGFtcGxlXG4gKlxuICogXy50b051bWJlcigzLjIpO1xuICogLy8gPT4gMy4yXG4gKlxuICogXy50b051bWJlcihOdW1iZXIuTUlOX1ZBTFVFKTtcbiAqIC8vID0+IDVlLTMyNFxuICpcbiAqIF8udG9OdW1iZXIoSW5maW5pdHkpO1xuICogLy8gPT4gSW5maW5pdHlcbiAqXG4gKiBfLnRvTnVtYmVyKCczLjInKTtcbiAqIC8vID0+IDMuMlxuICovXG5mdW5jdGlvbiB0b051bWJlcih2YWx1ZSkge1xuICBpZiAodHlwZW9mIHZhbHVlID09ICdudW1iZXInKSB7XG4gICAgcmV0dXJuIHZhbHVlO1xuICB9XG4gIGlmIChpc1N5bWJvbCh2YWx1ZSkpIHtcbiAgICByZXR1cm4gTkFOO1xuICB9XG4gIGlmIChpc09iamVjdCh2YWx1ZSkpIHtcbiAgICB2YXIgb3RoZXIgPSB0eXBlb2YgdmFsdWUudmFsdWVPZiA9PSAnZnVuY3Rpb24nID8gdmFsdWUudmFsdWVPZigpIDogdmFsdWU7XG4gICAgdmFsdWUgPSBpc09iamVjdChvdGhlcikgPyAob3RoZXIgKyAnJykgOiBvdGhlcjtcbiAgfVxuICBpZiAodHlwZW9mIHZhbHVlICE9ICdzdHJpbmcnKSB7XG4gICAgcmV0dXJuIHZhbHVlID09PSAwID8gdmFsdWUgOiArdmFsdWU7XG4gIH1cbiAgdmFsdWUgPSB2YWx1ZS5yZXBsYWNlKHJlVHJpbSwgJycpO1xuICB2YXIgaXNCaW5hcnkgPSByZUlzQmluYXJ5LnRlc3QodmFsdWUpO1xuICByZXR1cm4gKGlzQmluYXJ5IHx8IHJlSXNPY3RhbC50ZXN0KHZhbHVlKSlcbiAgICA/IGZyZWVQYXJzZUludCh2YWx1ZS5zbGljZSgyKSwgaXNCaW5hcnkgPyAyIDogOClcbiAgICA6IChyZUlzQmFkSGV4LnRlc3QodmFsdWUpID8gTkFOIDogK3ZhbHVlKTtcbn1cblxuLyoqXG4gKiBDb252ZXJ0cyBgdmFsdWVgIHRvIGEgc3RyaW5nLiBBbiBlbXB0eSBzdHJpbmcgaXMgcmV0dXJuZWQgZm9yIGBudWxsYFxuICogYW5kIGB1bmRlZmluZWRgIHZhbHVlcy4gVGhlIHNpZ24gb2YgYC0wYCBpcyBwcmVzZXJ2ZWQuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSA0LjAuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHByb2Nlc3MuXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBzdHJpbmcuXG4gKiBAZXhhbXBsZVxuICpcbiAqIF8udG9TdHJpbmcobnVsbCk7XG4gKiAvLyA9PiAnJ1xuICpcbiAqIF8udG9TdHJpbmcoLTApO1xuICogLy8gPT4gJy0wJ1xuICpcbiAqIF8udG9TdHJpbmcoWzEsIDIsIDNdKTtcbiAqIC8vID0+ICcxLDIsMydcbiAqL1xuZnVuY3Rpb24gdG9TdHJpbmcodmFsdWUpIHtcbiAgcmV0dXJuIHZhbHVlID09IG51bGwgPyAnJyA6IGJhc2VUb1N0cmluZyh2YWx1ZSk7XG59XG5cbi8qKlxuICogQ29tcHV0ZXMgYG51bWJlcmAgcm91bmRlZCB0byBgcHJlY2lzaW9uYC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDMuMTAuMFxuICogQGNhdGVnb3J5IE1hdGhcbiAqIEBwYXJhbSB7bnVtYmVyfSBudW1iZXIgVGhlIG51bWJlciB0byByb3VuZC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBbcHJlY2lzaW9uPTBdIFRoZSBwcmVjaXNpb24gdG8gcm91bmQgdG8uXG4gKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSByb3VuZGVkIG51bWJlci5cbiAqIEBleGFtcGxlXG4gKlxuICogXy5yb3VuZCg0LjAwNik7XG4gKiAvLyA9PiA0XG4gKlxuICogXy5yb3VuZCg0LjAwNiwgMik7XG4gKiAvLyA9PiA0LjAxXG4gKlxuICogXy5yb3VuZCg0MDYwLCAtMik7XG4gKiAvLyA9PiA0MTAwXG4gKi9cbnZhciByb3VuZCA9IGNyZWF0ZVJvdW5kKCdyb3VuZCcpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IHJvdW5kO1xuIiwidmFyIGc7XG5cbi8vIFRoaXMgd29ya3MgaW4gbm9uLXN0cmljdCBtb2RlXG5nID0gKGZ1bmN0aW9uKCkge1xuXHRyZXR1cm4gdGhpcztcbn0pKCk7XG5cbnRyeSB7XG5cdC8vIFRoaXMgd29ya3MgaWYgZXZhbCBpcyBhbGxvd2VkIChzZWUgQ1NQKVxuXHRnID0gZyB8fCBuZXcgRnVuY3Rpb24oXCJyZXR1cm4gdGhpc1wiKSgpO1xufSBjYXRjaCAoZSkge1xuXHQvLyBUaGlzIHdvcmtzIGlmIHRoZSB3aW5kb3cgcmVmZXJlbmNlIGlzIGF2YWlsYWJsZVxuXHRpZiAodHlwZW9mIHdpbmRvdyA9PT0gXCJvYmplY3RcIikgZyA9IHdpbmRvdztcbn1cblxuLy8gZyBjYW4gc3RpbGwgYmUgdW5kZWZpbmVkLCBidXQgbm90aGluZyB0byBkbyBhYm91dCBpdC4uLlxuLy8gV2UgcmV0dXJuIHVuZGVmaW5lZCwgaW5zdGVhZCBvZiBub3RoaW5nIGhlcmUsIHNvIGl0J3Ncbi8vIGVhc2llciB0byBoYW5kbGUgdGhpcyBjYXNlLiBpZighZ2xvYmFsKSB7IC4uLn1cblxubW9kdWxlLmV4cG9ydHMgPSBnO1xuIl0sInNvdXJjZVJvb3QiOiIifQ==